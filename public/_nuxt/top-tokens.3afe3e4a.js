import{_ as ke}from"./back.343ffe00.js";import{_ as _e}from"./upgrade-loading.6dc96b67.js";import{_ as ge}from"./token-warning-modal.27181cc2.js";import{i as U}from"./import-icon.de3e6c66.js";import{u as we,a as b,d as D,p as Ce,c as f,t as J,j as Z}from"./sha256.de7acfa8.js";import{a as fe,r as g,y as Te,l as A,b as ye,H as Oe,q as x,e as je,s as Ne,o as u,f as c,h as s,v as d,i as W,j as N,z as B,A as C,F as K,E as Q,x as L,c as $e,a3 as Se,t as ee,u as t,w as se,p as Ae,k as Le,B as Ue}from"./entry.ad32dc49.js";/* empty css              */import{u as Ve,p as oe}from"./pool.f9585ea2.js";import{p as He}from"./precision.a7a6c57b.js";const We=fe({props:{isAll:{type:Boolean,default:!1}},setup(){const e=Ve(),p=g(!1),F=g({}),{t:X,locale:ne}=Te(),v=A(()=>e),M=A(()=>v.value.allTokenObj||{}),I=A(()=>v.value.tokensObj||{}),z=we(),w=A(()=>z),V=ye(),S=g(1),o=g("vol"),y=g("desc");let H=g(!1);Oe(()=>{const n=document.body.clientWidth;n<750?H.value=!1:H.value=!0,window.onresize=()=>{n<750?H.value=!1:H.value=!0}});const re=g(!1),ae=A(()=>w.value.chainName),le=g(!1),de=g("Volume (24H)"),ie=g(["Price","TVL","Volume (24H)","Price Change"]);let q=g(null);const E=A(()=>{const n=w.value.topTokensList,a=[];for(let r=0;r<n.length;r++){const l=n[r];a.push({...l,priceHour:l?Number(l.price_rate_24h.substring(0,l.price_rate_24h.length-1)):"0",address:l.symbol=="SUI"?"0x2::sui::SUI":l.address})}return Array.from(a).sort((r,l)=>Number(l.vol_in_usd_24h)-Number(r.vol_in_usd_24h))}),Y=n=>{const a=Array.from(E.value).sort((r,l)=>{if(n==o.value)if(y.value=="desc"){if(n=="price")return Number(l.price)-Number(r.price);if(n=="priceChange")return Number(l.priceHour)-Number(r.priceHour);if(n=="vol")return Number(l.vol_in_usd_24h)-Number(r.vol_in_usd_24h);if(n=="tvl")return Number(l.pure_tvl_in_usd)-Number(r.pure_tvl_in_usd)}else{if(n=="tvl")return Number(r.pure_tvl_in_usd)-Number(l.pure_tvl_in_usd);if(n=="vol")return Number(r.vol_in_usd_24h)-Number(l.vol_in_usd_24h);if(n=="price")return Number(r.price)-Number(l.price);if(n=="priceChange")return Number(r.priceHour)-Number(l.priceHour)}else{if(n=="tvl")return Number(r.pure_tvl_in_usd)-Number(l.pure_tvl_in_usd);if(n=="vol")return Number(r.vol_in_usd_24h)-Number(l.vol_in_usd_24h);if(n=="price")return Number(r.price)-Number(l.price);if(n=="priceChange")return Number(r.priceHour)-Number(l.priceHour)}});if(a.length<10)q.value=a.slice(0,10);else{const r=S.value*10;q.value=a.slice(r-10,r)}},te=n=>{n==o.value?y.value=y.value=="desc"?"asc":"desc":(o.value=n,y.value="desc"),Y(n)},G=(n,a)=>{S.value=n,E.value&&E.value.length>0&&Y(o.value)};x(E,n=>{H.value,G(S.value)},{immediate:!0});const ue=n=>{var a,r,l,O,m,i;if(w.value.theme=="sui"){const k=n.needReverse?((r=v.value.tokensObj[n.token_b_address])==null?void 0:r.labels)||[]:((a=v.value.tokensObj[n.token_a_address])==null?void 0:a.labels)||[],T=n.needReverse?((l=v.value.tokensObj[n.token_a_address])==null?void 0:l.labels)||[]:((O=v.value.tokensObj[n.token_b_address])==null?void 0:O.labels)||[],_=k.concat(T);return[...new Set(_)]}else{const k=((m=v.value.tokensObj[n.token_a_address])==null?void 0:m.labels)||[],T=((i=v.value.tokensObj[n.token_b_address])==null?void 0:i.labels)||[],_=k.concat(T);return[...new Set(_)]}},ce=n=>{if(!f(n)&&!f(v.value.addressLpTokens)&&!f(v.value.tokensObj)){const a=n.swap_account,r=v.value.addressLpTokens[a];let l=(r==null?void 0:r.rewarder_infos)||[];const O=[];for(let i=0;i<l.length;i++){const k=l[i];v.value.tokensObj[k==null?void 0:k.coinAddress]&&O.push({...k,symbol:v.value.tokensObj[k.coinAddress].symbol,rewarderApr:n.rewarder_apr[i],logoUrl:v.value.tokensObj[k.coinAddress].logoURI,rewarder_display:r[`rewarder_display${i+1}`]})}let m=[];return m=O.filter(i=>i.rewarder_display),m}},pe=(n,a)=>n&&a?He.plus(J(n),J(a)):n>0&&n<.01?"<0.01":0,ve=n=>{let a=0;return n&&n.forEach(r=>{r.rewarder_display&&(a+=J(String(r.rewarders)))}),String(a)},me=()=>{V&&V.push("/stats-tokens")},P=g({});x(()=>[v.value.poolConfigObj,v.value.tokensObj,w.value.topPoolsList,w.value.chainName,v.value.addressLpTokens],([n,a,r,l,O])=>{l=="Sui"?n&&!f(n)&&r&&r.length>0&&a&&!f(a)&&r.forEach(m=>{var T;const i=n[m.swap_account],k=(T=i==null?void 0:i.rewarderInfo)==null?void 0:T.map((_,h)=>{const j=a[_.coinAddress];return{..._,emissionsEveryDay:oe(_.emissionsEveryDay,j==null?void 0:j.decimals),rewarder_display:i[`rewarder_display${h+1}`],rewarders:m.rewarder_apr[h]&&m.rewarder_apr[h].replace("%",""),logoUrl:j==null?void 0:j.logo_url,symbol:j==null?void 0:j.symbol,rewarderApr:m.rewarder_apr[h]&&m.rewarder_apr[h].replace("%","")}});i!=null&&i.is_display_rewarder&&(P.value={...P.value,[m.swap_account]:k})}):n&&!f(n)&&r&&r.length>0&&a&&!f(a)&&O&&!f(O)&&r.forEach(m=>{const i=O[m.swap_account];if(i){const k=i.rewarder_infos.map((T,_)=>{const h=a[T.coinAddress];return{...T,emissionsEveryDay:oe(T.emissionsEveryDay,h==null?void 0:h.decimals),rewarder_display:i[`rewarder_display${_+1}`],rewarders:Z(m.rewarder_apr[_]&&m.rewarder_apr[_].replace("%",""),2),logoUrl:h==null?void 0:h.logo_url,symbol:h==null?void 0:h.symbol,rewarderApr:Z(m.rewarder_apr[_]&&m.rewarder_apr[_].replace("%",""),2)}});i!=null&&i.is_display_rewarder&&(P.value={...P.value,[m.swap_account]:k})}})},{immediate:!0,deep:!0});const he=n=>{var a;return(n==null?void 0:n.logoURI)||(n==null?void 0:n.logo_url)||((a=v.value.tokensObj[n==null?void 0:n.address])==null?void 0:a.logo_url)||(w.value.theme==="default"?U("/image/coins/unknown.png"):U("/image/coins/sui-unknown.png"))},be=A(()=>w.value.theme),R=A(()=>v.value.tokensWarningObj);return{clickSwap:n=>{const a=localStorage.getItem(n==null?void 0:n.address),r=w.value.importTokenListObj;R.value&&!f(R.value)&&!R.value[n.address]&&!a&&!(r!=null&&r.hasOwnProperty(n==null?void 0:n.address))?(F.value=n,p.value=!0):V.push(`/swap?to=${n.address}`)},warningTokenInfo:F,isShowTokenWarning:p,currentSortColumn:o,currentSortOrder:y,sortTable:te,tokensWarningObj:R,theme:be,getCoinIcon:he,addCommom:b,store:w,importIcon:U,addressTokens:M,onChangeTokens:G,currentTokens:S,currentTopTokensList:q,topTokensList:E,router:V,isPc:H,getAprTotal:pe,getRewarderApr:ve,toTokensList:me,labelToken:le,select:re,tokenValue:de,tokensList:ie,getLabel:ue,rewardApr:ce,tokensObj:I,rewardObj:P,t:X,decimalUi:D,chainName:ae,formatNumberAddCommom:Ce}}});const $=e=>(Ae("data-v-86b43fbf"),e=e(),Le(),e),Be={key:0,class:"title"},Ee={key:1,class:"title view-all-title"},Pe={class:"sort-by"},De=$(()=>s("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Ie=[De],ze=$(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Re=[ze],Fe={key:0,class:"select-item"},Me=["onClick"],qe=$(()=>s("svg",{"aria-hidden":"true",class:"pools-icon"},[s("use",{"xlink:href":"#icon-icon_on-pool"})],-1)),Ge={class:"table-contianer"},Je={class:"pools-table"},Ke={class:"table-header"},Qe=$(()=>s("th",null,"Tokens",-1)),Xe=$(()=>s("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Ye=[Xe],Ze=$(()=>s("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),xe=[Ze],es=$(()=>s("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ss=[es],os=$(()=>s("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ns=[os],rs=$(()=>s("th",null,null,-1)),as={class:"table-body"},ls={key:0},ds={colspan:"6"},is={class:"upgrade-loading"},ts={class:"token"},us={class:"left"},cs=["onerror"],ps={key:0,class:"pool-warning"},vs={class:"right"},ms={class:"name"},hs={key:0,class:"label-all"},bs={class:"price onlyPrice"},ks={class:"price"},_s={class:"volume"},gs={class:"tvl"},ws={class:"btn-box"},Cs={class:"h5-item-container"},fs={key:0,class:"upgrade-loading"},Ts={class:"top"},ys={class:"token"},Os=["onerror"],js={key:0,class:"pool-warning"},Ns={class:"right"},$s={class:"name"},Ss={key:0,class:"label-all"},As={class:"middle"},Ls={class:"item-pools"},Us={class:"price"},Vs={class:"item-pools"},Hs={class:"item-pools"},Ws={class:"item-pools"},Bs={class:"bottom"},Es={class:"panation"};function Ps(e,p,F,X,ne,v){const M=ke,I=_e,z=Ue,w=Se,V=ge,S=Ne("image");return u(),c("div",{class:C(["top-tokens-table",e.isAll?"top-tokens-table-all":""])},[e.isAll?(u(),c("div",Ee,[W(M),N(" "+d(e.$t("common.tokens")),1)])):(u(),c("div",Be,[s("div",null,d(e.$t("common.topTokens")),1),s("div",{class:"view-all",onClick:p[0]||(p[0]=(...o)=>e.toTokensList&&e.toTokensList(...o))},d(e.$t("newAdd.viewAll"))+"   > ",1)])),s("div",Pe,[s("div",null,d(e.$t("newAdd.sortBy")),1),s("div",{class:"search-select",onClick:p[1]||(p[1]=B(o=>e.labelToken=!e.labelToken,["stop"]))},[s("div",null,[N(d(e.tokenValue)+" ",1),(u(),c("svg",{"aria-hidden":"true",class:C(["pools-icon",e.currentSortOrder=="desc"?"desc-svg":"asc-svg"])},Ie,2))]),(u(),c("svg",{"aria-hidden":"true",class:C(e.labelToken?"show-icon icon":"icon")},Re,2))]),e.labelToken?(u(),c("div",Fe,[(u(!0),c(K,null,Q(e.tokensList,(o,y)=>(u(),c("div",{key:y,class:"select-menu-item",onClick:B(()=>{e.labelToken=!1,e.tokenValue=o,e.sortTable(o=="Price"?"price":o=="Volume (24H)"?"vol":o=="TVL"?"tvl":"priceChange")},["stop"])},[N(d(o)+" ",1),qe],8,Me))),128))])):L("",!0)]),s("div",Ge,[s("table",Je,[s("thead",Ke,[s("tr",null,[Qe,s("th",null,[s("span",{onClick:p[2]||(p[2]=B(o=>e.sortTable("price"),["stop"]))},[N(" Price "),(u(),c("svg",{"aria-hidden":"true",class:C(["pools-icon",e.currentSortColumn=="price"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},Ye,2))])]),s("th",null,[s("span",{onClick:p[3]||(p[3]=B(o=>e.sortTable("priceChange"),["stop"]))},[N(" Price Change "),(u(),c("svg",{"aria-hidden":"true",class:C(["pools-icon",e.currentSortColumn=="priceChange"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},xe,2))])]),s("th",null,[s("span",{onClick:p[4]||(p[4]=B(o=>e.sortTable("vol"),["stop"]))},[N(" Volume (24H) "),(u(),c("svg",{"aria-hidden":"true",class:C(["pools-icon",e.currentSortColumn=="vol"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},ss,2))])]),s("th",null,[s("span",{class:"hover-box",onClick:p[5]||(p[5]=B(o=>e.sortTable("tvl"),["stop"]))},[N(" TVL "),(u(),c("svg",{"aria-hidden":"true",class:C(["pools-icon",e.currentSortColumn=="tvl"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},ns,2))])]),rs])]),s("tbody",as,[e.currentTopTokensList?L("",!0):(u(),c("tr",ls,[s("td",ds,[s("div",is,[W(I,{loading:!0,type:"statsPools"})])])])),(u(!0),c(K,null,Q(e.currentTopTokensList,o=>(u(),c("tr",{key:o.address},[s("td",null,[s("div",ts,[s("div",us,[s("div",null,[ee(s("img",{onerror:e.theme=="default"?("importIcon"in e?e.importIcon:t(U))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:t(U))("/image/coins/sui-unknown.png"),alt:""},null,8,cs),[[S,e.getCoinIcon(e.addressTokens&&e.addressTokens[o.address])]]),!("checkNullObj"in e?e.checkNullObj:t(f))(e.tokensWarningObj||{})&&!e.tokensWarningObj[o.address]?(u(),c("div",ps)):L("",!0)])]),s("div",vs,[s("div",ms,[s("p",null,d(o.symbol),1),s("span",null,d(o.name),1)]),e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]?(u(),c("div",hs,[s("div",{class:C(["label",e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]])},[s("span",null,d(e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]?`${e.tokensObj[o.address].labels[0]}`:""),1)],2)])):L("",!0)])])]),s("td",null,[s("div",bs,[s("p",null,d(o.price?"$"+(Number(o.price)>1?("addCommom"in e?e.addCommom:t(b))(("decimalUi"in e?e.decimalUi:t(D))(o.price,2)):("addCommom"in e?e.addCommom:t(b))(("decimalUi"in e?e.decimalUi:t(D))(o.price,4))):"--"),1)])]),s("td",null,[s("div",ks,[s("p",{class:C(o.price_rate_24h.includes("-")?"redecue-change-price":"add-change-price")},d(o.price_rate_24h!=="0%"&&!o.price_rate_24h.includes("-")?`+${o.price_rate_24h}`:o.price_rate_24h),3)])]),s("td",null,[s("div",_s," $"+d(("addCommom"in e?e.addCommom:t(b))(o.vol_in_usd_24h,2)=="0.00"?0:("addCommom"in e?e.addCommom:t(b))(o.vol_in_usd_24h,2)?("addCommom"in e?e.addCommom:t(b))(o.vol_in_usd_24h,2):"--"),1)]),s("td",null,[s("div",gs," $"+d(("addCommom"in e?e.addCommom:t(b))(o.pure_tvl_in_usd,2)=="0.00"?0:("addCommom"in e?e.addCommom:t(b))(o.pure_tvl_in_usd,2)?("addCommom"in e?e.addCommom:t(b))(o.pure_tvl_in_usd,2):"--"),1)]),s("td",null,[s("div",ws,[W(z,{class:"cancel-btn",onClick:y=>e.clickSwap(o)},{default:se(()=>[N(d(e.$t("button.swap")),1)]),_:2},1032,["onClick"])])])]))),128))])])]),s("div",Cs,[e.currentTopTokensList?(u(!0),c(K,{key:1},Q(e.currentTopTokensList,o=>(u(),c("div",{key:o.address,class:"item h5-item"},[s("div",Ts,[s("div",ys,[s("div",null,[ee(s("img",{onerror:e.theme=="default"?("importIcon"in e?e.importIcon:t(U))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:t(U))("/image/coins/sui-unknown.png"),alt:""},null,8,Os),[[S,e.getCoinIcon(e.addressTokens&&e.addressTokens[o.address])]]),!("checkNullObj"in e?e.checkNullObj:t(f))(e.tokensWarningObj||{})&&!e.tokensWarningObj[o.address]?(u(),c("div",js)):L("",!0)]),s("div",Ns,[s("div",$s,[s("p",null,d(o.symbol),1),s("span",null,d(o.name),1)]),e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]?(u(),c("div",Ss,[s("div",{class:C(["label",e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]])},[s("span",null,d(e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]?`${e.tokensObj[o.address].labels[0]}`:""),1)],2)])):L("",!0)])])]),s("div",As,[s("div",Ls,[s("span",null,d(e.$t("common.price")),1),s("div",Us,[s("p",null,d(o.price?"$"+(Number(o.price)>1?("addCommom"in e?e.addCommom:t(b))(("decimalUi"in e?e.decimalUi:t(D))(o.price,2)):("addCommom"in e?e.addCommom:t(b))(("decimalUi"in e?e.decimalUi:t(D))(o.price,4))):"--"),1)])]),s("div",Vs,[s("span",null,d(e.$t("newAdd.priceChange")),1),s("p",{class:C(o.price_rate_24h.includes("-")?"redecue-change-price":"add-change-price")},d(o.price_rate_24h),3)]),s("div",Hs,[s("span",null,d(e.$t("common.volume24h")),1),s("p",null," $"+d(("addCommom"in e?e.addCommom:t(b))(o.vol_in_usd_24h,2)=="0.00"?0:("addCommom"in e?e.addCommom:t(b))(o.vol_in_usd_24h,2)),1)]),s("div",Ws,[s("span",null,d(e.$t("common.tvl")),1),s("p",null," $"+d(("addCommom"in e?e.addCommom:t(b))(o.pure_tvl_in_usd,2)=="0.00"?0:("addCommom"in e?e.addCommom:t(b))(o.pure_tvl_in_usd,2)),1)])]),s("div",Bs,[W(z,{class:"cancel-btn",onClick:y=>e.clickSwap(o)},{default:se(()=>[N(d(e.$t("button.swap")),1)]),_:2},1032,["onClick"])])]))),128)):(u(),c("div",fs,[W(I,{loading:!0,type:"statsPoolH5"})]))]),s("div",Es,[W(w,{current:e.currentTokens,"onUpdate:current":p[6]||(p[6]=o=>e.currentTokens=o),"page-size":(e.isPc,10),simple:"",total:e.isAll?e.topTokensList.length:e.topTokensList.length>20?20:e.topTokensList.length,onChange:e.onChangeTokens},null,8,["current","page-size","total","onChange"])]),e.chainName=="Sui"&&e.isShowTokenWarning?(u(),$e(V,{key:2,"from-coin":e.warningTokenInfo,onClose:p[7]||(p[7]=o=>e.isShowTokenWarning=!1),onClickContinue:p[8]||(p[8]=()=>{e.isShowTokenWarning=!1,e.router.push(`/swap?to=${e.warningTokenInfo.address}`)})},null,8,["from-coin"])):L("",!0)],2)}const Qs=je(We,[["render",Ps],["__scopeId","data-v-86b43fbf"]]);export{Qs as T};
