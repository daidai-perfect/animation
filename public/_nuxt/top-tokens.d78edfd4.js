import{_ as ge}from"./back.35d3ae90.js";import{_ as fe}from"./upgrade-loading.2a2d685a.js";import{_ as we}from"./token-warning.34ad6e94.js";import{_ as Ce}from"./token-warning-modal.c7363d62.js";import{i as H}from"./import-icon.de3e6c66.js";import{u as ye,b as Te,A as Oe,h,l as I,H as je,d as S,t as K,p as x,m as ee}from"./pool.72e6880c.js";import{a as Ne,r as b,l as Se,m as $,b as $e,y as Ae,D as se,e as Le,q as Ue,o as v,f as m,h as s,v as t,i as A,j as O,O as W,z as g,F as Q,s as X,x as E,c as Ve,I as He,t as oe,u as c,w as ne,p as Be,k as We,B as De}from"./entry.a800e351.js";/* empty css              */import{p as Pe}from"./precision.a7a6c57b.js";const Ee=Ne({props:{isAll:{type:Boolean,default:!1}},setup(){const e=ye(),p=b(!1),M=b({}),{t:Y,locale:re}=Se(),u=$(()=>e),F=$(()=>u.value.allTokenObj||{}),z=$(()=>u.value.tokensObj||{}),R=Te(),k=$(()=>R),B=$e(),L=b(1),N=b("vol"),o=b("desc");let f=b(!1);const q=b(!1);Ae(async()=>{const n=document.body.clientWidth;n<750?f.value=!1:f.value=!0,window.onresize=()=>{n<750?f.value=!1:f.value=!0},await Oe(1e3),q.value=!0});const ae=b(!1),le=$(()=>k.value.chainName),te=b(!1),de=b("Volume (24H)"),ie=b(["Price","TVL","Volume (24H)","Price Change"]);let G=b(null);const D=$(()=>{const n=k.value.topTokensList,a=[];for(let r=0;r<n.length;r++){const l=n[r];a.push({...l,priceHour:l?Number(l.price_rate_24h.substring(0,l.price_rate_24h.length-1)):"0",address:l.symbol=="SUI"?"0x2::sui::SUI":l.address})}return Array.from(a).sort((r,l)=>Number(l.vol_in_usd_24h)-Number(r.vol_in_usd_24h))}),Z=n=>{const a=Array.from(D.value).sort((r,l)=>{if(n==N.value)if(o.value=="desc"){if(n=="price")return Number(l.price)-Number(r.price);if(n=="priceChange")return Number(l.priceHour)-Number(r.priceHour);if(n=="vol")return Number(l.vol_in_usd_24h)-Number(r.vol_in_usd_24h);if(n=="tvl")return Number(l.pure_tvl_in_usd)-Number(r.pure_tvl_in_usd)}else{if(n=="tvl")return Number(r.pure_tvl_in_usd)-Number(l.pure_tvl_in_usd);if(n=="vol")return Number(r.vol_in_usd_24h)-Number(l.vol_in_usd_24h);if(n=="price")return Number(r.price)-Number(l.price);if(n=="priceChange")return Number(r.priceHour)-Number(l.priceHour)}else{if(n=="tvl")return Number(r.pure_tvl_in_usd)-Number(l.pure_tvl_in_usd);if(n=="vol")return Number(r.vol_in_usd_24h)-Number(l.vol_in_usd_24h);if(n=="price")return Number(r.price)-Number(l.price);if(n=="priceChange")return Number(r.priceHour)-Number(l.priceHour)}});if(a.length<10)G.value=a.slice(0,10);else{const r=L.value*10;G.value=a.slice(r-10,r)}},ue=n=>{n==N.value?o.value=o.value=="desc"?"asc":"desc":(N.value=n,o.value="desc"),Z(n)},J=(n,a)=>{L.value=n,D.value&&D.value.length>0&&Z(N.value)};se(()=>[D.value,q.value],([n,a])=>{a&&(f.value,J(L.value))},{immediate:!0});const ce=n=>{var a,r,l,C,U,i;if(k.value.theme=="sui"){const d=n.needReverse?((r=u.value.tokensObj[n.token_b_address])==null?void 0:r.labels)||[]:((a=u.value.tokensObj[n.token_a_address])==null?void 0:a.labels)||[],V=n.needReverse?((l=u.value.tokensObj[n.token_a_address])==null?void 0:l.labels)||[]:((C=u.value.tokensObj[n.token_b_address])==null?void 0:C.labels)||[],w=d.concat(V);return[...new Set(w)]}else{const d=((U=u.value.tokensObj[n.token_a_address])==null?void 0:U.labels)||[],V=((i=u.value.tokensObj[n.token_b_address])==null?void 0:i.labels)||[],w=d.concat(V);return[...new Set(w)]}},pe=n=>{if(!S(n)&&!S(u.value.addressLpTokens)&&!S(u.value.tokensObj)){const a=n.swap_account,r=u.value.addressLpTokens[a];let l=(r==null?void 0:r.rewarder_infos)||[];const C=[];for(let i=0;i<l.length;i++){const d=l[i];u.value.tokensObj[d==null?void 0:d.coinAddress]&&C.push({...d,symbol:u.value.tokensObj[d.coinAddress].symbol,rewarderApr:n.rewarder_apr[i],logoUrl:u.value.tokensObj[d.coinAddress].logoURI,rewarder_display:r[`rewarder_display${i+1}`]})}let U=[];return U=C.filter(i=>i.rewarder_display),U}},ve=(n,a)=>n&&a?Pe.plus(K(n),K(a)):n>0&&n<.01?"<0.01":0,me=n=>{let a=0;return n&&n.forEach(r=>{r.rewarder_display&&(a+=K(String(r.rewarders)))}),String(a)},_e=()=>{B&&B.push("/stats-tokens")},P=b({});se(()=>[u.value.poolConfigObj,u.value.tokensObj,k.value.topPoolsList,k.value.chainName,u.value.addressLpTokens,q.value],([n,a,r,l,C,U])=>{U&&(l=="Sui"?n&&!S(n)&&r&&r.length>0&&a&&!S(a)&&r.forEach(i=>{var w;const d=n[i.swap_account],V=(w=d==null?void 0:d.rewarderInfo)==null?void 0:w.map((y,_)=>{const T=a[y.coinAddress];return{...y,emissionsEveryDay:x(y.emissionsEveryDay,T==null?void 0:T.decimals),rewarder_display:d[`rewarder_display${_+1}`],rewarders:i.rewarder_apr[_]&&i.rewarder_apr[_].replace("%",""),logoUrl:T==null?void 0:T.logo_url,symbol:T==null?void 0:T.symbol,rewarderApr:i.rewarder_apr[_]&&i.rewarder_apr[_].replace("%","")}});d!=null&&d.is_display_rewarder&&(P.value={...P.value,[i.swap_account]:V})}):n&&!S(n)&&r&&r.length>0&&a&&!S(a)&&C&&!S(C)&&r.forEach(i=>{const d=C[i.swap_account];if(d){const V=d.rewarder_infos.map((w,y)=>{const _=a[w.coinAddress];return{...w,emissionsEveryDay:x(w.emissionsEveryDay,_==null?void 0:_.decimals),rewarder_display:d[`rewarder_display${y+1}`],rewarders:ee(i.rewarder_apr[y]&&i.rewarder_apr[y].replace("%",""),2),logoUrl:_==null?void 0:_.logo_url,symbol:_==null?void 0:_.symbol,rewarderApr:ee(i.rewarder_apr[y]&&i.rewarder_apr[y].replace("%",""),2)}});d!=null&&d.is_display_rewarder&&(P.value={...P.value,[i.swap_account]:V})}}))},{immediate:!0,deep:!0});const he=n=>{var a;return((a=u.value.tokensObj[n])==null?void 0:a.logo_url)||(k.value.theme==="default"?H("/image/coins/unknown.png"):H("/image/coins/sui-unknown.png"))},be=$(()=>k.value.theme),ke=$(()=>u.value.tokensWarningObj);return{clickSwap:n=>{const a=localStorage.getItem(n==null?void 0:n.address),r=k.value.importTokenListObj;u.value.tokensObj&&u.value.tokensObj[n.address]&&u.value.tokensObj[n.address].isSelfBuilt&&!a&&!(r!=null&&r.hasOwnProperty(n==null?void 0:n.address))?(M.value=n,p.value=!0):B.push(`/swap?to=${n.address}`)},warningTokenInfo:M,isShowTokenWarning:p,currentSortColumn:N,currentSortOrder:o,sortTable:ue,tokensWarningObj:ke,theme:be,getCoinIcon:he,addCommom:h,store:k,importIcon:H,addressTokens:F,onChangeTokens:J,currentTokens:L,currentTopTokensList:G,topTokensList:D,router:B,isPc:f,getAprTotal:ve,getRewarderApr:me,toTokensList:_e,labelToken:te,select:ae,tokenValue:de,tokensList:ie,getLabel:ce,rewardApr:pe,tokensObj:z,rewardObj:P,t:Y,decimalUi:I,chainName:le,formatNumberAddCommom:je}}});const j=e=>(Be("data-v-75180a2d"),e=e(),We(),e),Ie={key:0,class:"title"},ze={key:1,class:"title view-all-title"},Re={class:"sort-by"},Me=j(()=>s("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Fe=[Me],qe=j(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Ge=[qe],Je={key:0,class:"select-item"},Ke=["onClick"],Qe=j(()=>s("svg",{"aria-hidden":"true",class:"pools-icon"},[s("use",{"xlink:href":"#icon-icon_on-pool"})],-1)),Xe={class:"table-contianer"},Ye={class:"pools-table"},Ze={class:"table-header"},xe=j(()=>s("th",null,"Tokens",-1)),es=j(()=>s("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ss=[es],os=j(()=>s("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ns=[os],rs=j(()=>s("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),as=[rs],ls=j(()=>s("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ts=[ls],ds=j(()=>s("th",null,null,-1)),is={class:"table-body"},us={key:0},cs={colspan:"6"},ps={class:"upgrade-loading"},vs={class:"token"},ms={class:"left"},_s=["onerror"],hs={class:"right"},bs={class:"name"},ks={key:0,class:"label-all"},gs={class:"price onlyPrice"},fs={class:"price"},ws={class:"volume"},Cs={class:"tvl"},ys={class:"btn-box"},Ts={class:"h5-item-container"},Os={key:0,class:"upgrade-loading"},js={class:"top"},Ns={class:"token"},Ss=["onerror"],$s={class:"right"},As={class:"name"},Ls={key:0,class:"label-all"},Us={class:"middle"},Vs={class:"item-pools"},Hs={class:"price"},Bs={class:"item-pools"},Ws={class:"item-pools"},Ds={class:"item-pools"},Ps={class:"bottom"},Es={class:"panation"};function Is(e,p,M,Y,re,u){const F=ge,z=fe,R=we,k=De,B=He,L=Ce,N=Ue("image");return v(),m("div",{class:g(["top-tokens-table",e.isAll?"top-tokens-table-all":""])},[e.isAll?(v(),m("div",ze,[A(F),O(" "+t(e.$t("common.tokens")),1)])):(v(),m("div",Ie,[s("div",null,t(e.$t("common.topTokens")),1),s("div",{class:"view-all",onClick:p[0]||(p[0]=(...o)=>e.toTokensList&&e.toTokensList(...o))},t(e.$t("newAdd.viewAll"))+"   > ",1)])),s("div",Re,[s("div",null,t(e.$t("newAdd.sortBy")),1),s("div",{class:"search-select",onClick:p[1]||(p[1]=W(o=>e.labelToken=!e.labelToken,["stop"]))},[s("div",null,[O(t(e.tokenValue)+" ",1),(v(),m("svg",{"aria-hidden":"true",class:g(["pools-icon",e.currentSortOrder=="desc"?"desc-svg":"asc-svg"])},Fe,2))]),(v(),m("svg",{"aria-hidden":"true",class:g(e.labelToken?"show-icon icon":"icon")},Ge,2))]),e.labelToken?(v(),m("div",Je,[(v(!0),m(Q,null,X(e.tokensList,(o,f)=>(v(),m("div",{key:f,class:"select-menu-item",onClick:W(()=>{e.labelToken=!1,e.tokenValue=o,e.sortTable(o=="Price"?"price":o=="Volume (24H)"?"vol":o=="TVL"?"tvl":"priceChange")},["stop"])},[O(t(o)+" ",1),Qe],8,Ke))),128))])):E("",!0)]),s("div",Xe,[s("table",Ye,[s("thead",Ze,[s("tr",null,[xe,s("th",null,[s("span",{onClick:p[2]||(p[2]=W(o=>e.sortTable("price"),["stop"]))},[O(" Price "),(v(),m("svg",{"aria-hidden":"true",class:g(["pools-icon",e.currentSortColumn=="price"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},ss,2))])]),s("th",null,[s("span",{onClick:p[3]||(p[3]=W(o=>e.sortTable("priceChange"),["stop"]))},[O(" Price Change "),(v(),m("svg",{"aria-hidden":"true",class:g(["pools-icon",e.currentSortColumn=="priceChange"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},ns,2))])]),s("th",null,[s("span",{onClick:p[4]||(p[4]=W(o=>e.sortTable("vol"),["stop"]))},[O(" Volume (24H) "),(v(),m("svg",{"aria-hidden":"true",class:g(["pools-icon",e.currentSortColumn=="vol"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},as,2))])]),s("th",null,[s("span",{class:"hover-box",onClick:p[5]||(p[5]=W(o=>e.sortTable("tvl"),["stop"]))},[O(" TVL "),(v(),m("svg",{"aria-hidden":"true",class:g(["pools-icon",e.currentSortColumn=="tvl"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},ts,2))])]),ds])]),s("tbody",is,[e.currentTopTokensList?E("",!0):(v(),m("tr",us,[s("td",cs,[s("div",ps,[A(z,{loading:!0,type:"statsPools"})])])])),(v(!0),m(Q,null,X(e.currentTopTokensList,o=>(v(),m("tr",{key:o.address},[s("td",null,[s("div",vs,[s("div",ms,[s("div",null,[oe(s("img",{onerror:e.theme=="default"?("importIcon"in e?e.importIcon:c(H))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:c(H))("/image/coins/sui-unknown.png"),alt:""},null,8,_s),[[N,e.getCoinIcon(o.address)]]),A(R,{address:o.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])])]),s("div",hs,[s("div",bs,[s("p",null,t(o.symbol),1),s("span",null,t(o.name),1)]),e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]?(v(),m("div",ks,[s("div",{class:g(["label",e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]])},[s("span",null,t(e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]?`${e.tokensObj[o.address].labels[0]}`:""),1)],2)])):E("",!0)])])]),s("td",null,[s("div",gs,[s("p",null,t(o.price?"$"+(Number(o.price)>1?("addCommom"in e?e.addCommom:c(h))(("decimalUi"in e?e.decimalUi:c(I))(o.price,2)):("addCommom"in e?e.addCommom:c(h))(("decimalUi"in e?e.decimalUi:c(I))(o.price,4))):"--"),1)])]),s("td",null,[s("div",fs,[s("p",{class:g(o.price_rate_24h.includes("-")?"redecue-change-price":"add-change-price")},t(o.price_rate_24h!=="0%"&&!o.price_rate_24h.includes("-")?`+${o.price_rate_24h}`:o.price_rate_24h),3)])]),s("td",null,[s("div",ws," $"+t(("addCommom"in e?e.addCommom:c(h))(o.vol_in_usd_24h,2)=="0.00"?0:("addCommom"in e?e.addCommom:c(h))(o.vol_in_usd_24h,2)?("addCommom"in e?e.addCommom:c(h))(o.vol_in_usd_24h,2):"--"),1)]),s("td",null,[s("div",Cs," $"+t(("addCommom"in e?e.addCommom:c(h))(o.pure_tvl_in_usd,2)=="0.00"?0:("addCommom"in e?e.addCommom:c(h))(o.pure_tvl_in_usd,2)?("addCommom"in e?e.addCommom:c(h))(o.pure_tvl_in_usd,2):"--"),1)]),s("td",null,[s("div",ys,[A(k,{class:"cancel-btn",onClick:f=>e.clickSwap(o)},{default:ne(()=>[O(t(e.$t("button.swap")),1)]),_:2},1032,["onClick"])])])]))),128))])])]),s("div",Ts,[e.currentTopTokensList?(v(!0),m(Q,{key:1},X(e.currentTopTokensList,o=>(v(),m("div",{key:o.address,class:"item h5-item"},[s("div",js,[s("div",Ns,[s("div",null,[oe(s("img",{onerror:e.theme=="default"?("importIcon"in e?e.importIcon:c(H))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:c(H))("/image/coins/sui-unknown.png"),alt:""},null,8,Ss),[[N,e.getCoinIcon(o.address)]]),A(R,{address:o.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),s("div",$s,[s("div",As,[s("p",null,t(o.symbol),1),s("span",null,t(o.name),1)]),e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]?(v(),m("div",Ls,[s("div",{class:g(["label",e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]])},[s("span",null,t(e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]?`${e.tokensObj[o.address].labels[0]}`:""),1)],2)])):E("",!0)])])]),s("div",Us,[s("div",Vs,[s("span",null,t(e.$t("common.price")),1),s("div",Hs,[s("p",null,t(o.price?"$"+(Number(o.price)>1?("addCommom"in e?e.addCommom:c(h))(("decimalUi"in e?e.decimalUi:c(I))(o.price,2)):("addCommom"in e?e.addCommom:c(h))(("decimalUi"in e?e.decimalUi:c(I))(o.price,4))):"--"),1)])]),s("div",Bs,[s("span",null,t(e.$t("newAdd.priceChange")),1),s("p",{class:g(o.price_rate_24h.includes("-")?"redecue-change-price":"add-change-price")},t(o.price_rate_24h),3)]),s("div",Ws,[s("span",null,t(e.$t("common.volume24h")),1),s("p",null," $"+t(("addCommom"in e?e.addCommom:c(h))(o.vol_in_usd_24h,2)=="0.00"?0:("addCommom"in e?e.addCommom:c(h))(o.vol_in_usd_24h,2)),1)]),s("div",Ds,[s("span",null,t(e.$t("common.tvl")),1),s("p",null," $"+t(("addCommom"in e?e.addCommom:c(h))(o.pure_tvl_in_usd,2)=="0.00"?0:("addCommom"in e?e.addCommom:c(h))(o.pure_tvl_in_usd,2)),1)])]),s("div",Ps,[A(k,{class:"cancel-btn",onClick:f=>e.clickSwap(o)},{default:ne(()=>[O(t(e.$t("button.swap")),1)]),_:2},1032,["onClick"])])]))),128)):(v(),m("div",Os,[A(z,{loading:!0,type:"statsPoolH5"})]))]),s("div",Es,[A(B,{current:e.currentTokens,"onUpdate:current":p[6]||(p[6]=o=>e.currentTokens=o),"page-size":(e.isPc,10),simple:"",total:e.isAll?e.topTokensList.length:e.topTokensList.length>20?20:e.topTokensList.length,onChange:e.onChangeTokens},null,8,["current","page-size","total","onChange"])]),e.chainName=="Sui"&&e.isShowTokenWarning?(v(),Ve(L,{key:2,"from-coin":e.warningTokenInfo,onClose:p[7]||(p[7]=o=>e.isShowTokenWarning=!1),onClickContinue:p[8]||(p[8]=()=>{e.isShowTokenWarning=!1,e.router.push(`/swap?to=${e.warningTokenInfo.address}`)})},null,8,["from-coin"])):E("",!0)],2)}const Ys=Le(Ee,[["render",Is],["__scopeId","data-v-75180a2d"]]);export{Ys as T};
