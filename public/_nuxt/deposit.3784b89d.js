import{_ as Nt}from"./back.85f660cf.js";import{_ as At}from"./refresh-icon.1ade6575.js";import{_ as qt}from"./swap-setting.489ffc50.js";import{u as bn,b as yo,d as Co,c as Nn,j as Be,k as Yn,t as xn,l as gn,n as Sn,h as Ye,m as In,a as Lt,s as Qo,o as ho,q as et,e as Tn,p as ot}from"./pool.8ef3a10d.js";import{a as wo,r as g,y as kn,C as Mt,m as z,D as Ce,b as rt,e as Po,o as r,f as m,h as a,v as c,i as pe,z as be,c as ve,x as C,p as xo,k as en,q as An,t as uo,j as _e,P as st,K as ut,w as Ee,N as Rt,u as Se,B as dt,U as Ut,G as nt,F as Ao,s as Yo,S as ct,l as Ot,O as $n,V as Bt}from"./entry.0d91eea8.js";import{i as Ke}from"./import-icon.de3e6c66.js";import{_ as Ft}from"./assets-card.82543c4f.js";import{_ as jt}from"./coin-lock.9706c1ca.js";import{_ as _t}from"./img-lock_2x.a28135f4.js";import{_ as Wt}from"./img-lock_2x.f8d0351d.js";import{_ as Dt,a as Et}from"./new-add-or-create.1f271fb6.js";import{_ as Ht}from"./network-tips.10689acb.js";/* empty css              */import"./index.1ea61039.js";import{D as h}from"./decimal.0bdeb344.js";import{s as fn,m as zt,l as Xt,b as Vt,a as Kt}from"./transform.c672907f.js";import{_ as Zt}from"./apr-tab.34b998b0.js";import{_ as Gt}from"./token-warning.a21370a9.js";import{_ as Jt}from"./apr-tips.7dbc3988.js";/* empty css              */import{p as Qt}from"./precision.a7a6c57b.js";import{_ as Yt}from"./coin-select.a0e151cb.js";import{_ as xt}from"./viewDetail.b5d3897c.js";import{a as ea,s as oa,_ as na}from"./poolFee.fb601d09.js";import{_ as ta}from"./token-warning-modal.59edae4a.js";/* empty css              */import{u as aa}from"./notifi.ae9b1bed.js";import{_ as tt,a as at}from"./icon-Add-Liquidity_2x.0acb06cb.js";import{_ as vt}from"./icon-selected_3x.09e9a6f0.js";import{_ as pt,a as mt}from"./img-no-data_2x.f98e8cad.js";/* empty css              *//* empty css              */import"./icon-warning_2x.18837743.js";import"./icon-error_2x.6237b570.js";import"./status-block.ccfd1a05.js";import"./index.c98f75bd.js";import"./farms.fae494ad.js";import"./icon_rewards_2x.3d92eaa5.js";import"./token-warning_2x.34cd881d.js";import"./img-no-Positions_2x.66b11cb8.js";import"./img-no-Positions_2x.5d150f18.js";import"./icon-arrow_2x.948aedb2.js";import"./icon-arrow_2x.4ffddb8e.js";import"./useWhale.70b8eadb.js";const ia=wo({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,n){const _=g(!1),E=g(null),B=g(0),J=g(20),Q=bn(),te=yo(),D=g(!1);kn(()=>{}),Mt(()=>{clearInterval(E.value)});const Y=()=>{E.value=setInterval(()=>{var A;D.value||B.value<J.value&&(B.value+=1,B.value===J.value&&((A=e==null?void 0:e.poolInfo)!=null&&A.poolAddress&&Q.updateCurrentPools(e.poolInfo.poolAddress,te.chainName),B.value=0))},1e3)},ee=z(()=>te.slippage),F=()=>{n.emit("clearAll")},ie=()=>{B.value=0,n.emit("clickRefresh")};Ce(()=>e.poolInfo,A=>{A&&!E.value&&Y()},{immediate:!0});const Pe=rt();return{clickRefresh:ie,isShowSwapSetting:_,countdown:B,autoRefreshTime:J,slippage:ee,clearAll:F,checkNullObj:Co,router:Pe}}});const la=e=>(xo("data-v-f484e6e0"),e=e(),en(),e),ra={class:"title"},sa={class:"left"},ua=la(()=>a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),da={class:"deposit-progress"};function ca(e,n,_,E,B,J){var D,Y;const Q=At,te=qt;return r(),m("div",ra,[a("div",sa,[a("span",null,c(e.poolInfo?e.$t("common.concentratedLiquidity"):(Y=(D=e.$route)==null?void 0:D.query)!=null&&Y.action?e.$t("newAdd.createClmmPool"):e.$t("common.concentratedLiquidity")),1)]),a("div",{class:be(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[a("div",{class:"slippage-icon",onClick:n[0]||(n[0]=ee=>e.isShowSwapSetting=!0)},[ua,a("span",null,c(e.slippage)+"%",1)]),a("div",da,[pe(Q,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])],2),e.isShowSwapSetting?(r(),ve(te,{key:0,onOnClose:n[1]||(n[1]=ee=>e.isShowSwapSetting=!1)})):C("",!0)])}const va=Po(ia,[["render",ca],["__scopeId","data-v-f484e6e0"]]);const pa=wo({props:{coinIcon:{type:String,default:""},coin:{type:Object,default:()=>({})}},setup(e){const n=yo(),_=z(()=>n),E=g(""),B=g(""),J=g(""),Q=bn(),te=z(()=>Q),D=g(""),Y=F=>{var ie;D.value=(F==null?void 0:F.logoURI)||(F==null?void 0:F.logo_url)||((ie=te.value.tokensObj[F==null?void 0:F.address])==null?void 0:ie.logo_url)||(_.value.theme==="default"?Ke("/image/coins/unknown.png"):Ke("/image/coins/sui-unknown.png"))};Ce(()=>[e.coin,te.value.tokensObj],([F,ie])=>{var Pe;F?(B.value=ie&&ie[F.address]&&((Pe=ie[F.address])==null?void 0:Pe.labels),E.value=F.name,J.value=F.symbol,Y(F)):(B.value="",E.value="",J.value="",D.value="")},{immediate:!0,deep:!0});const ee=z(()=>{var F,ie,Pe;return e.coinIcon||((Pe=(ie=te==null?void 0:te.value)==null?void 0:ie.tokensObj[(F=e.coin)==null?void 0:F.address])==null?void 0:Pe.logo_url)||(_.value.theme==="default"?Ke("/image/coins/unknown.png"):Ke("/image/coins/sui-unknown.png"))});return{store:_,importIcon:Ke,coinName:E,coinLabels:B,coinSymbol:J,currentIcon:ee,coinLogo:D,getCoinIcon:Y}}}),ma=e=>(xo("data-v-89fb1911"),e=e(),en(),e),fa={class:"coin-block"},ga={class:"coin-info"},ba={class:"symbol"},ka={key:0,class:"name"},ha={key:0,class:"label"},Ca=ma(()=>a("div",null,[a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_on"})])],-1));function ya(e,n,_,E,B,J){const Q=An("image");return r(),m("div",fa,[a("div",null,[uo(a("img",null,null,512),[[Q,e.coinLogo]]),a("div",ga,[a("div",ba,c(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinName?(r(),m("div",ka,[_e(c(e.coin.name)+" ",1),e.store.theme=="default"?(r(),m("span",ha,c(e.coinLabels?`(${e.coinLabels})`:""),1)):C("",!0)])):C("",!0)])]),Ca])}const wa=Po(pa,[["render",ya],["__scopeId","data-v-89fb1911"]]),Pa=wo({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},poolInfo:{type:Object,default:()=>({})},showfromCoinLock:{type:Boolean,default:!1},showtoCoinLock:{type:Boolean,default:!1}},setup(){const e=yo();return{storeIndex:z(()=>e)}}});const Ia={class:"create-pool-lock"},Ta={key:0,src:_t,alt:""},$a={key:1,src:Wt,alt:""};function Sa(e,n,_,E,B,J){return r(),m("div",Ia,[a("div",null,[e.storeIndex.theme=="default"?(r(),m("img",Ta)):(r(),m("img",$a))])])}const Na=Po(Pa,[["render",Sa],["__scopeId","data-v-5d070e17"]]),Aa=wo({props:{clickClear:{type:Boolean,default:!1},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},intPrice:{type:String,default:""}},setup(e,n){const _=g("");return{inpValue:_,changecurrentPrice:B=>{const J=new RegExp("[^\\d-]*(\\d*(?:\\.\\d*)?).*$");B.target.value=B.target.value.replace(J,"$1"),_.value=B.target.value,n.emit("changecurrentPrice",_.value)}}}});const qa={class:"set-init-price"},La={class:"init-price-tips"};function Ma(e,n,_,E,B,J){var te,D,Y,ee;const Q=st;return r(),m("div",qa,[pe(Q,{type:"text",placeholder:"0.0",value:e.intPrice,disabled:!((D=(te=e.$route)==null?void 0:te.query)!=null&&D.fee),onChange:e.changecurrentPrice},null,8,["value","disabled","onChange"]),a("div",La,c((Y=e.toCoin)==null?void 0:Y.symbol)+" per "+c((ee=e.fromCoin)==null?void 0:ee.symbol),1)])}const Ra=Po(Aa,[["render",Ma],["__scopeId","data-v-4d661b1d"]]),Ua=wo({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,n){const _=g(""),E=g("");let B=g(""),J=g("");const Q=ut(),te=yo(),D=z(()=>te),Y=z(()=>D.value.chainName?Nn(D.value.chainName):{}),ee=()=>{if(!(Number.isNaN(_.value)||Number(_.value)!==0&&!_.value||!e.poolInfo.tickSpacing))try{const b=Yn(new h(_.value.toString()),Number(A.value.tickSpacing)),W=xn(b+Number(A.value.tickSpacing));if(e.pType=="Min"&&Number(W.toString())>=Number(J.value.toString()))return;const T=W.toString();n.emit("onInput",T)}catch{n.emit("onInput","")}},F=()=>{try{if(Number.isNaN(_.value)||!_.value||!e.poolInfo.tickSpacing)return;const b=Yn(new h(_.value),Number(A.value.tickSpacing)),W=xn(b-Number(A.value.tickSpacing)),T=W.toString();if(e.pType=="Max"&&Number(W)<=Number(B.value))return;n.emit("onInput",T)}catch{n.emit("onInput","")}},ie=b=>{let W=b.toString().replace(/[^\d.]/g,"");const T=/^\d+(\.\d+)?$/;W.split(".").length>2&&!T.exec(W)&&(W=W.substr(0,W.length-1)),E.value=String(W)},Pe=b=>{var X,ye,Ae,ce;const{TickUtil:W,TickMath:T,getNearestTickByTick:k}=Y.value,i=b.target.value;let p;if(i==="0"){p=-443636,n.emit("onInput","0");return}else{const j=T.priceToTickIndex(new h(i),(X=A.value.token_a)==null?void 0:X.decimals,(ye=A.value.token_b)==null?void 0:ye.decimals);p=k(Number(j),Number(A.value.tickSpacing))}const O=T.tickIndexToPrice(new h(p),(Ae=A.value.token_a)==null?void 0:Ae.decimals,(ce=A.value.token_b)==null?void 0:ce.decimals);n.emit("onInput",O.toString())};Ce(()=>e.defaultMinPrice,(b,W)=>{b!==W&&(B.value=e.defaultMinPrice)},{immediate:!0}),Ce(()=>e.defaultMaxPrice,(b,W)=>{b!==W&&(J.value=e.defaultMaxPrice)},{immediate:!0}),Ce(()=>[e.inputValue,Q.query.action],([b])=>{if(b&&b!=="0"&&b!=="∞"){_.value=b;const T=b.toString().split(".")[1];E.value=b!=="0"&&b!=="∞"&&T&&T.length>6?Be(b.toString(),6):b.toString()}else(b=="0"||b=="∞"||Q.query.action)&&(E.value=b)},{immediate:!0});const A=g({});Ce(()=>e.poolInfo,(b,W)=>{b&&(A.value=b)},{immediate:!0});const xe=g("");return Ce(()=>e.currentPriceTab,b=>{xe.value=b},{immediate:!0}),{addPrice:ee,minusPrice:F,oValue:E,changeValue:ie,isDisabled:xe,route:Q,onBlur:Pe}}});const Oa={class:"set-price-item"},Ba={class:"title"},Fa={class:"input-box"},ja={class:"minus-btn"},_a=["disabled"],Wa={class:"plus-btn"};function Da(e,n,_,E,B,J){const Q=st,te=Rt;return r(),m("div",Oa,[a("div",Ba,c(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),pe(te,{loading:e.loading,active:"",paragraph:!1},{default:Ee(()=>[a("div",Fa,[a("a",ja,[a("div",{class:be(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),disabled:e.isDisabled!=="Custom",onClick:n[0]||(n[0]=(...D)=>e.minusPrice&&e.minusPrice(...D))},null,10,_a)]),pe(Q,{id:"pValu",value:e.oValue,"onUpdate:value":n[1]||(n[1]=D=>e.oValue=D),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:n[2]||(n[2]=D=>e.changeValue(D.target.value)),onBlur:n[3]||(n[3]=D=>e.onBlur(D))},null,8,["value","disabled"]),a("a",Wa,[a("div",{class:be(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:n[4]||(n[4]=(...D)=>e.addPrice&&e.addPrice(...D))},null,2)])])]),_:1},8,["loading"]),a("p",{class:be(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},c(e.toCoin&&e.toCoin.symbol)+" per "+c(e.fromCoin&&e.fromCoin.symbol),3)])}const it=Po(Ua,[["render",Da],["__scopeId","data-v-39cf690d"]]),Ea=wo({props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,n){let _=g(""),E=g(""),B=g(),J=g(!1),Q=g(!1);const te=g({}),D=yo(),Y=z(()=>D);kn(()=>{_.value=e.min,E.value=e.max}),Ce(()=>e.currentPriceTab,(b,W)=>{b!==W&&(B.value=e.currentPriceTab)},{immediate:!0}),Ce(()=>e.min,(b,W)=>{b!==W&&(_.value=b)}),Ce(()=>e.max,(b,W)=>{b!==W&&(E.value=b)}),Ce(()=>e.poolInfo,(b,W)=>{b&&(te.value=b)},{immediate:!0});const ee=g("");Ce(()=>e.intPrice,b=>{ee.value=b},{immediate:!0,deep:!0});const F=b=>{_.value=b,n.emit("onChangeMinPrice",b)},ie=b=>{E.value=b,n.emit("onChangeMaxPrice",b)};Ce(J,(b,W)=>{b!==W&&n.emit("onChangeFullRange",b)});const Pe=()=>{_.value=e.defaultMinPrice,E.value=e.defaultMaxPrice,Q.value=!1,J.value=!1},A=()=>{Q.value=!1,_.value="0",E.value="∞"};return Ce(J,(b,W)=>{b!==W&&n.emit("onChangeFullRange",b)}),{store:Y,changeMinPrice:F,changeMaxPrice:ie,importIcon:Ke,resetPrice:Pe,changeShowUnderStand:()=>{J.value=!J.value,J.value?Q.value=!0:Pe(),Q.value||(_.value=e.defaultMinPrice,E.value=e.defaultMaxPrice)},showUnderStand:Q,minPrice:_,maxPrice:E,understand:A,isRadio:J,initPirce:ee}}});const Ha={class:"set-price"},za={class:"card-container"},Xa={key:0,class:"card"},Va=["src"],Ka={key:1,class:"understand"},Za={class:"left"},Ga={class:"right"};function Ja(e,n,_,E,B,J){const Q=it,te=it,D=dt;return r(),m("div",Ha,[a("div",za,[e.showUnderStand?(r(),m("div",Ka,[a("div",Za,[a("p",null,c(e.$t("common.lowerEfficiency")),1),a("p",null,c(e.$t("common.lowerEfficiencyTips")),1)]),a("div",Ga,[pe(D,{onClick:e.understand},{default:Ee(()=>[_e(c(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(r(),m("div",Xa,[pe(Q,{value:e.minPrice,"onUpdate:value":n[0]||(n[0]=Y=>e.minPrice=Y),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),pe(te,{value:e.maxPrice,"onUpdate:value":n[1]||(n[1]=Y=>e.maxPrice=Y),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"]),a("img",{src:("importIcon"in e?e.importIcon:Se(Ke))("/image/lmg-line@2x.png"),alt:""},null,8,Va)]))])])}const Qa=Po(Ea,[["render",Ja],["__scopeId","data-v-1ca5a797"]]);function lt(e,n,_){const E=new h(10).pow(n-_);return new h(1.0001).pow(e).mul(E)}const Ya=wo({props:{poolInfo:{type:Object,default:()=>({chartLoading:!1,token_a:{decimal:6},token_b:{decimal:6},currentLiquity:"50000000"})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0},tickList:{type:Array,default:()=>[]},currentTick:{type:Number,default:0},chartLoading:{type:Boolean,default:!1},currentPriceTab:{type:String,default:""},before7dContractPriceLowest:{type:String,default:""},before7dContractPriceHighest:{type:String,default:""}},setup(e,n){const _=g(1),E=g(""),B=g(""),J=z(()=>{var i,p,O;return F.sqrtPriceX64ToPrice((i=e.poolInfo)==null?void 0:i.current_sqrt_price,(p=e.poolInfo)==null?void 0:p.coinA.decimals,(O=e.poolInfo)==null?void 0:O.coinB.decimals).toString()}),Q=z(()=>{let i=0;return e.direction?i=(Number(e.minPrice)/Number(J.value)-1)*100:i=(Number(e.minPrice)/Number(1/Number(J.value))-1)*100,i=i>0&&i<.1?.1:i,i=i<0&&i>-.1?-.1:i,i}),te=z(()=>{let i=0;return e.direction?i=(Number(e.maxPrice)/Number(J.value)-1)*100:i=(Number(e.maxPrice)/Number(1/Number(J.value))-1)*100,i=i>0&&i<.1?.1:i,i=i<0&&i>-.1?-.1:i,i}),D=yo(),Y=z(()=>D),ee=z(()=>Y.value.chainName?Nn(Y.value.chainName):{}),{TickMath:F,getNearestTickByTick:ie}=ee.value,Pe=()=>{const i=_.value/2;_.value=i,b(e.poolInfo,i)},A=()=>{const i=_.value*2;_.value=i,b(e.poolInfo,i)},xe=(i=[])=>{let p=6;const O=Math.abs(Number(i[0])-Number(i[i.length-1]));return O>=6?p=0:O>=1?p=1:O>=.1?p=2:O>=.01?p=3:O>=.001?p=4:O>=1e-4?p=5:O>=1e-5?p=6:O>=1e-6?p=7:O>=1e-7&&(p=8),p},b=(i,p=1)=>{if(i&&i.token_a&&!e.chartLoading&&e.minPrice&&e.maxPrice){const O=Number(e.poolInfo.current_tick_index);let X=O+100*p,ye=O-100*p,Ae,ce;if(e.maxPrice==="∞")ce=ee.value.TickUtil.getMaxIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?ce=F.priceToTickIndex(new h(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):ce=F.priceToTickIndex(new h(1).div(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{ce=443636}if(e.minPrice==="0")Ae=ee.value.TickUtil.getMinIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?Ae=F.priceToTickIndex(new h(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):Ae=F.priceToTickIndex(new h(1).div(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{Ae=-443636}let j=0;if(e.currentPriceTab!=="full range"){if(O>=Ae&&O<=ce){const x=O-Ae,M=ce-O;j=Math.max(Math.abs(x),Math.abs(M))}else O<Ae?j=Math.abs(ce-O):j=Math.abs(O-Ae);X=O+j+100*p,ye=O-j-100*p}else{const x=(Math.abs(O)>5e3,2e4);X=O+x*p,ye=O-x*p}ye<-443636&&(ye=-443636),X>443636&&(X=443636);const ae=new h(i.liquidity).div(Math.pow(10,8)).toString(),V=e.tickList,ne=[],We=[];let G={};for(let x=0;x<V.length;x++){if(G=V[x],G.index<=O&&G.index>=ye){if(ne.length<1&&x!==0){const M=V[x-1];ne.unshift({...M,index:ye})}ne.unshift(G)}else if(G.index>O&&G.index<=X&&(We.push(G),ne.length<1&&x!==0)){const M=V[x-1];ne.push({...M,index:ye})}if(G.index>X){const M=V[x];if(We.push({...M,index:X}),ne.length<1&&x!==0){const Io=V[x-1];ne.push({...Io,index:ye})}break}}let Ie="0";for(let x=ne.length-1;x>=0;x--)Ie=new h(Ie).plus(new h(ne[x].liquidityNet.toString()).div(Math.pow(10,8))).toString(),ne[x].liquityAmount=Ie;let me=ae;for(let x=0;x<We.length;x++)me=new h(me).plus(new h(We[x].liquidityNet.toString()).div(Math.pow(10,8))).toString(),We[x].liquityAmount=me;let Le=[];const re=V&&V.length>0?{index:O,liquityAmount:Number(ae)}:{index:O,liquityAmount:0};(ne.length>0||We.length>0)&&(Le=[...ne.reverse(),re,...We],e.direction||(Le=Le.reverse()));const He=[];V.forEach(x=>{He.push({...x,liquidityGross:x.liquidityGross.toString(),liquidityNet:x.liquidityNet.toString()})}),T(Le,ye,X,Ae,ce,O)}};let W=g(!1);kn(()=>{document.body.clientWidth<750?W.value=!1:W.value=!0,window.onresize=()=>{document.body.clientWidth<750?W.value=!1:W.value=!0,b(e.poolInfo,_.value)}});const T=(i,p,O,X,ye,Ae)=>{let ce,j;e.direction?(ce=e.before7dContractPriceLowest&&Number(e.before7dContractPriceLowest)>0?F.priceToTickIndex(new h(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",j=e.before7dContractPriceHighest&&Number(e.before7dContractPriceHighest)>0?F.priceToTickIndex(new h(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):""):(ce=e.before7dContractPriceLowest&&Number(e.before7dContractPriceLowest)>0?F.priceToTickIndex(new h(1).div(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",j=e.before7dContractPriceHighest&&Number(e.before7dContractPriceHighest)>0?F.priceToTickIndex(new h(1).div(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"");const ae={top:30,right:35,bottom:20,left:55};let V,ne;W.value?(V=460-ae.left-ae.right,ne=205-ae.top-ae.bottom):(V=340-ae.left-ae.right,ne=205-ae.top-ae.bottom);const We=O-p,G=parseInt(String(We/4));let Ie=[p+G/4,p+G,p+2*G,O-G,O-G/4];const me=p,Le=O,re=V/(Le-me);e.currentPriceTab==="full range"&&(Ie=[p,p+2*G,O]);const He=Ie.map(R=>e.direction?lt(R,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString():new h(1).div(lt(R,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)).toString()),x=xe(He);fn("#chart").selectAll("*").remove();const M=fn("#chart").attr("width",V+ae.left+ae.right).attr("height",ne+ae.top+ae.bottom).append("g").attr("transform",`translate(${ae.left},${ae.right})`),Io=zt(i,function(R){return Number(Math.abs(R.liquityAmount))})||0,$=Xt().range([0,ne]).domain([Io,0]);Vt().rangeRound([0,V]).padding(.1);const qo=M.append("g").attr("id","barsBox").selectAll("rect").data(i).enter().append("rect");Y.value.theme=="default"?qo.attr("x",function(R,P){return P===0?0:e.direction?Math.abs(R.index-me)*re:Math.abs(Le-R.index)*re}).attr("y",function(R,P){return e.direction?P===i.length-1?0:$(R.liquityAmount):P===i.length-1?0:$(i[P+1].liquityAmount)}).attr("width",function(R,P){return P===0&&i.length===1&&R.liquityAmount>0?V:(e.direction,P!==i.length-1?Math.abs(i[P+1].index-R.index)*re:0)}).attr("height",function(R,P){return P===0&&i.length===1&&R.liquityAmount>0?ne:e.direction?P===i.length-1?0:ne-$(R.liquityAmount):P===i.length-1?0:ne-$(i[P+1].liquityAmount)}).attr("fill","#279477").attr("class","bars").attr("stroke-width",1).attr("stroke","#279477"):qo.attr("x",function(R,P){return P===0?0:e.direction?Math.abs(R.index-me)*re:Math.abs(Le-R.index)*re}).attr("y",function(R,P){return e.direction?P===i.length-1?0:$(Math.abs(R.liquityAmount)):P===i.length-1?0:$(Math.abs(i[P+1].liquityAmount))}).attr("width",function(R,P){return P===0&&i.length===1&&R.liquityAmount>0?V:(e.direction,P!==i.length-1?Math.abs(i[P+1].index-R.index)*re:0)}).attr("height",function(R,P){if(P===0&&i.length===1&&R.liquityAmount>0)return ne;if(e.direction)return P===i.length-1?0:Number(R.liquityAmount)?ne-$(Math.abs(R.liquityAmount)):0;{if(P===i.length-1)return 0;const oo=ne-$(Math.abs(i[P+1].liquityAmount));return Number(i[P+1].liquityAmount)?oo:0}}).attr("fill","#407497").attr("class","bars").attr("stroke-width",1).attr("stroke","#407497");const Lo=M.append("g");Lo.append("line").attr("x1",0).attr("y1",155).attr("x2",V).attr("y2",155).attr("stroke-width",1).attr("stroke","#50535D");const To=Lo.append("g");let $o=0;if(e.direction){for(let R=0;R<Ie.length;R++){const P=Be(He[R],x)||"0";He.push(P);const oo=Math.abs(Ie[R]-me)*re;let Me=0;for(let ke=0;ke<P.length;ke++)P[ke]==="1"?Me+=4.02:P[ke]==="."?Me+=2.64:P[ke]==="7"?Me+=5.48:Me+=6;To.append("text").text(P).attr("x",oo-Me/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}$o=Math.abs(Ae-me)*re}else{for(let R=Ie.length-1;R>=0;R--){const P=Be(He[R],x)||0;He.push(P);const oo=Math.abs(Ie[R]-Le)*re;let Me=0;for(let ke=0;ke<P.length;ke++)P[ke]==="1"?Me+=4.02:P[ke]==="."?Me+=2.64:P[ke]==="7"?Me+=5.48:Me+=6;To.append("text").text(P).attr("x",oo-Me/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}$o=Math.abs(Ae-Le)*re}(Y.value.theme=="default"?M.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#68FFD8"):M.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#76C8FF")).attr("transform","translate("+$o+", 0)");let eo,De,po,mo;e.direction?(eo=X<me?-100:parseInt(String(Math.abs(X-me)*re)),De=ye<me?-100:parseInt(String(Math.abs(ye-me)*re)),po=ce<me?-100:Math.abs(ce-me)*re,mo=j<me?-100:Math.abs(j-me)*re):(De=X<me?-100:Math.abs(Le-X)*re,eo=ye<me?-100:Math.abs(Le-ye)*re,mo=ce<me?-100:Math.abs(Le-ce)*re,po=j<me?-100:Math.abs(Le-j)*re),e.minPrice==="0"&&(eo=0),e.maxPrice==="∞"&&(De=V),W.value?E.value=V-eo+60+"px":E.value=V-eo+52+"px",B.value=De+74+"px",ce&&po<V&&M.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+po+", 0)"),j&&mo<V&&M.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+mo+", 0)");const Ze=M.append("g").attr("id","left-handle"),Re=M.append("g").attr("id","right-handle");Y.value.theme=="default"?(Ze.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),Ze.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 20) rotate(180)"),Ze.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",6).attr("fill","#68FFD8"),Ze.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",4.5).attr("fill","#68FFD8"),Re.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),Re.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),Re.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",6).attr("fill","#68FFD8"),Re.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",4.5).attr("fill","#68FFD8")):(Ze.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),Ze.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 24) rotate(180)"),Ze.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",8).attr("fill","#76C8FF"),Ze.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",6.5).attr("fill","#76C8FF"),Re.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),Re.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),Re.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",8).attr("fill","#76C8FF"),Re.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",6.5).attr("fill","#76C8FF")),Ze.attr("transform","translate("+eo+", 0)"),Re.attr("transform","translate("+De+", 0)");const Mo=Kt().extent([[0,0],[V,ne]]).handleSize(30).on("end",jo);M.append("g").attr("class","brush").call(Mo).call(Mo.move,[eo,De]);function jo(R){if(!R.sourceEvent||!R.selection)return;Ze.attr("transform","translate("+R.selection[0]+", 0)"),Re.attr("transform","translate("+R.selection[1]+", 0)"),W.value?E.value=V-R.selection[0]+60+"px":E.value=V-R.selection[0]+52+"px",B.value=R.selection[1]+74+"px";let P,oo,Me=0,ke=0;e.direction?(Me=ie(parseInt(String(R.selection[0]/re+me)),Number(e.poolInfo.tickSpacing)),P=F.tickIndexToPrice(Me,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),ke=ie(parseInt(String(R.selection[1]/re+me)),Number(e.poolInfo.tickSpacing)),oo=F.tickIndexToPrice(ke,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()):(ke=ie(Le-R.selection[0]/re,Number(e.poolInfo.tickSpacing)),P=1/F.tickIndexToPrice(ke,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),Me=ie(Le-R.selection[1]/re,Number(e.poolInfo.tickSpacing)),oo=1/F.tickIndexToPrice(Me,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()),n.emit("onChangeMinPrice",String(Be(String(P),6))),n.emit("onChangeMaxPrice",String(Be(String(oo),6)))}Y.value.theme=="default"?fn(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#15322C"):fn(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#152632")};g(""),Ce(()=>[e.poolInfo,e.minPrice,e.maxPrice,e.currentPriceTab],([i,p,O,X])=>{i&&p&&O&&b(i,_.value)},{immediate:!0});const k=g(!0);return Ce(()=>e.chartLoading,(i,p)=>{i!==p&&(k.value=i)},{immediate:!0,deep:!0}),{store:Y,loading:k,zoomOut:Pe,zoomIn:A,rangeSizeLower:Q,rangeSizeUpper:te,rangeSizeLowerPosition:E,rangeSizeUpperPosition:B,decimalFormat:gn,numberformat:Sn}}});const xa=e=>(xo("data-v-f15b9ed5"),e=e(),en(),e),ei={class:"chart-box"},oi={class:"chart"},ni={class:"zoom"},ti=xa(()=>a("svg",{id:"chart"},null,-1));function ai(e,n,_,E,B,J){return r(),m("div",ei,[uo(a("div",oi,[a("div",ni,[a("div",{class:"amplification",onClick:n[0]||(n[0]=(...Q)=>e.zoomOut&&e.zoomOut(...Q))}),a("div",{class:"narrow",onClick:n[1]||(n[1]=(...Q)=>e.zoomIn&&e.zoomIn(...Q))})]),e.currentPriceTab!=="full range"?(r(),m("div",{key:0,class:"range-size range-size-lower",style:nt({right:e.rangeSizeLowerPosition})},c(("numberformat"in e?e.numberformat:Se(Sn))(e.rangeSizeLower.toFixed(1),1))+"% ",5)):C("",!0),e.currentPriceTab!=="full range"?(r(),m("div",{key:1,class:"range-size range-size-upper",style:nt({left:e.rangeSizeUpperPosition})},c(("numberformat"in e?e.numberformat:Se(Sn))(e.rangeSizeUpper.toFixed(1),1))+"% ",5)):C("",!0),ti],512),[[Ut,!e.loading]])])}const ii=Po(Ya,[["render",ai],["__scopeId","data-v-f15b9ed5"]]),li=wo({props:{poolInfo:{type:Object,default:()=>({})},aprRewardsParameter:{type:Number,default:30},label:{type:Boolean,default:!0}},setup(e,n){const _=g("0"),E=g(""),B=g(""),J=yo(),Q=z(()=>J),te=bn(),D=z(()=>te),Y=(k,i)=>k&&i?Qt.plus(In(k),In(i)):k>0?k:0,ee=k=>{let i=0;return k&&k.forEach(p=>{i+=In(String(p))}),String(i)},F=g([]),ie=g([]),Pe=g("0"),A=g(""),xe=g(!0);Ce(()=>[Q.value.newTopPoolsObj,e.poolInfo,D.value.tokensObj,e.aprRewardsParameter],([k,i,p])=>{var O;if(k&&i&&p){const X=k[i==null?void 0:i.poolAddress]||{};if(X&&!Co(X)){_.value=X&&X.apr_7day&&X.apr_7day.replace("%","")||"0",A.value=ee(X&&X.rewarder_apr),Pe.value=Y(X&&X.apr_7day,X&&ee(X.rewarder_apr)),E.value=Ye(X.tvl_in_usd,2),B.value=Ye(X.vol_in_usd_24h,2);const ye=i&&e.poolInfo.rewarder_infos||[],Ae=[];for(let j=0;j<ye.length;j++){const ae=ye[j];if(p[ae.coinAddress]){const V=p[ae.coinAddress].decimals,ne=gn(ae.emissionsEveryDay/Math.pow(10,V),4),We=Number(ne)>0?Ye(ne):ne,G=gn(Number(ne)*((O=D.value.RATES[ae.coinAddress])==null?void 0:O.price),4);Ae.push({...ae,logoUrl:p[ae.coinAddress].logoURI,day:We,dayUSD:G,symbol:p[ae.coinAddress].symbol,rewarder_display:i&&i[`rewarder_display${j+1}`]?i[`rewarder_display${j+1}`]:!1})}}F.value=Ae.filter(j=>j.rewarder_display);const ce=[];Ae.forEach((j,ae)=>{p[j.coinAddress]&&ce.push({...j,symbol:p[j.coinAddress].symbol,rewarderApr:X.rewarder_apr[ae]&&X.rewarder_apr[ae].replace("%","")})}),ie.value=ce.filter(j=>j.rewarder_display)}else _.value="0",E.value="--",B.value="--",Pe.value="0",ie.value=[],F.value=[];xe.value=!1}else _.value="0",E.value="--",B.value="--",Pe.value="0",ie.value=[],F.value=[]},{immediate:!0,deep:!0});const b=()=>{n.emit("reviseValue")},W=k=>{var i;return(k==null?void 0:k.logoURI)||(k==null?void 0:k.logo_url)||((i=D.value.tokensObj[k==null?void 0:k.address])==null?void 0:i.logo_url)||(Q.value.theme==="default"?Ke("/image/coins/unknown.png"):Ke("/image/coins/sui-unknown.png"))};return{tokensWarningObj:z(()=>D.value.tokensWarningObj),rewarderInfo:F,rewarderArr:ie,rewardApr:Pe,rewardAprList:A,apr:_,liquidityTvl:E,vol24:B,addCommom:Ye,reviseValue:b,loading:xe,getCoinIcon:W,store:J}}});const hn=e=>(xo("data-v-b5c98fbb"),e=e(),en(),e),ri={key:0,class:"pool-info"},si=hn(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),ui=[si],di={key:0,class:"info-block-container"},ci={class:"info-block"},vi={class:"coin-tips"},pi={class:"left"},mi={alt:""},fi={class:"address"},gi=hn(()=>a("use",{"xlink:href":"#icon-icon_copy1"},null,-1)),bi=[gi],ki={class:"info-block"},hi={class:"coin-tips"},Ci={class:"left"},yi={alt:""},wi={class:"address"},Pi=hn(()=>a("use",{"xlink:href":"#icon-icon_copy1"},null,-1)),Ii=[Pi],Ti={class:"info-block"},$i={class:"leabl"},Si={class:"text"},Ni={class:"apr-hover-content"},Ai={class:"info-block"},qi={class:"leabl"},Li={class:"text"},Mi={class:"info-block"},Ri={class:"leabl"},Ui={class:"text"},Oi={class:"info-block"},Bi={class:"leabl"},Fi={class:"text"},ji={key:1,class:"pool-rewards-info"},_i={class:"rewards-list-all"},Wi=hn(()=>a("div",{class:"icon-sign"},null,-1)),Di={alt:""},Ei={class:"rewards-value"};function Hi(e,n,_,E,B,J){const Q=Gt,te=Jt,D=ct,Y=An("image");return e.poolInfo?(r(),m("div",ri,[e.loading?(r(),ve(D,{key:1})):(r(),m(Ao,{key:0},[a("div",{class:be(e.label?"pool-info-border pool-info-title":"pool-info-title")},[_e(c(e.$t("newAdd.poolInfo"))+" ",1),(r(),m("svg",{class:be(e.label?"show-icon icon":"icon"),"aria-hidden":"true",onClick:n[0]||(n[0]=ee=>e.reviseValue())},ui,2))],2),e.label?(r(),m("div",di,[a("div",ci,[a("div",vi,[a("div",pi,[uo(a("img",mi,null,512),[[Y,e.getCoinIcon(e.poolInfo.needReverse?e.poolInfo.token_b:e.poolInfo.token_a)]]),a("div",fi,c(e.poolInfo.needReverse?e.poolInfo.token_b.address:e.poolInfo.token_a.address),1),pe(Q,{address:e.poolInfo.needReverse?e.poolInfo.token_b.address:e.poolInfo.token_a.address,"style-params":{width:"12px",height:"12px",left:"10px",bottom:"0px"}},null,8,["address"]),(r(),m("svg",{class:"icon","aria-hidden":"true",onClick:n[1]||(n[1]=ee=>e.store.copy(e.poolInfo.needReverse?e.poolInfo.token_b.address:e.poolInfo.token_a.address))},bi))])])]),a("div",ki,[a("div",hi,[a("div",Ci,[uo(a("img",yi,null,512),[[Y,e.getCoinIcon(e.poolInfo.needReverse?e.poolInfo.token_a:e.poolInfo.token_b)]]),a("div",wi,c(e.poolInfo.needReverse?e.poolInfo.token_a.address:e.poolInfo.token_b.address),1),pe(Q,{address:e.poolInfo.needReverse?e.poolInfo.token_a.address:e.poolInfo.token_b.address,"style-params":{width:"12px",height:"12px",left:"10px",bottom:"0px"}},null,8,["address"]),(r(),m("svg",{class:"icon","aria-hidden":"true",onClick:n[2]||(n[2]=ee=>e.store.copy(e.poolInfo.needReverse?e.poolInfo.token_a.address:e.poolInfo.token_b.address))},Ii))])])]),a("div",Ti,[a("div",$i,c(e.$t("common.apr")),1),a("div",Si,[_e(c(e.poolInfo.is_display_rewarder?e.rewardApr>0&&e.rewardApr<.01?"<0.01":("addCommom"in e?e.addCommom:Se(Ye))(e.rewardApr,2):e.apr>0&&e.apr<.01?"<0.01":("addCommom"in e?e.addCommom:Se(Ye))(e.apr,2))+"% ",1),a("div",Ni,[pe(te,{"l-item":{apr:e.apr,aprTotal:e.rewardApr,rewarder_apr:e.rewardAprList,is_display_rewarder:e.poolInfo.is_display_rewarder},"rewarder-info":e.rewarderArr},null,8,["l-item","rewarder-info"])])])]),a("div",Ai,[a("div",qi,c(e.$t("common.liquidity")),1),a("div",Li,"$"+c(e.liquidityTvl),1)]),a("div",Mi,[a("div",Ri,c(e.$t("common.volume24h")),1),a("div",Ui,"$"+c(e.vol24),1)]),a("div",Oi,[a("div",Bi,c(e.$t("newAdd.tickSpacing")),1),a("div",Fi,c(e.poolInfo&&e.poolInfo.tick_spacing),1)])])):C("",!0),e.poolInfo.is_display_rewarder&&e.label&&e.rewarderInfo&&e.rewarderInfo.length>0?(r(),m("div",ji,[_e(c("Farming Rewards")+" "),a("div",_i,[(r(!0),m(Ao,null,Yo(e.rewarderInfo,ee=>(r(),m("div",{key:ee,class:be(["rewards-list",ee.day==0?"rewards-none":""])},[Wi,uo(a("img",Di,null,512),[[Y,ee.logoUrl]]),a("div",Ei,[a("p",null,c(ee.day)+" "+c(ee.symbol)+" / "+c(e.$t("newAdd.day"))+" ",1)])],2))),128))])])):C("",!0)],64))])):C("",!0)}const zi=Po(li,[["render",Hi],["__scopeId","data-v-b5c98fbb"]]),Xi=wo({setup(){let e=g(!1);const{t:n,locale:_}=Ot(),E=Lt(),B=z(()=>E),J=yo(),Q=g(0),te=g(!1),D=g(!1),Y=g(!1),ee=g("fromCoin"),F=g(""),ie=g(""),Pe=g(!1),A=g(!0),xe=g(!1),b=g(!0),W=g(!1),T=g(""),k=g(""),i=g(""),p=g(""),O=g(""),X=g(""),ye=g(!1),Ae=g(!1),ce=g(!1),j=g(""),ae=g(0),V=g(!0),ne=g(!1),We=g([]),G=g(""),Ie=g(30),me=g("30D"),Le=g("Estimated APR"),re=g([{time:"24H",num:24},{time:"7D",num:7},{time:"30D",num:30}]),He=g(!0),x=yo(),M=z(()=>x),Io=z(()=>{var o;return!!((o=d==null?void 0:d.query)!=null&&o.action&&(!l.value||!s.value||!j.value))}),$=z(()=>M.value.chainName?Nn(M.value.chainName):{}),io=z(()=>{var o;return(o=M.value)==null?void 0:o.filterCreatePoolCoin}),qo=o=>{Je.updateCurrentPools(N.value.poolAddress,M.value.chainName),me.value=o.time,Ie.value=o.num},Lo=()=>{He.value=!He.value},To=g([]),$o=()=>{Q.value=0,d.query.action!=="create-pool"&&d.query.actions!=="new-position"&&(Go(),so(),Je.updateCurrentPools(N.value.poolAddress,M.value.chainName)),Je.setPoolConfigList(mn.value,M.value.filterCoinsObj)},Xo=z(()=>Number(i.value)>0&&Number(p.value)>0&&Number(i.value)>Number(p.value)),eo=o=>{xe.value=o,i.value="0",p.value="∞"},De=z(()=>{if(q.value.poolConfigList&&l.value&&s.value){const o=q.value.poolConfigList.filter(u=>{var f,w,y,S;return u.token_a.address.toUpperCase()===((f=l.value.address)==null?void 0:f.toUpperCase())&&u.token_b.address.toUpperCase()===((w=s.value.address)==null?void 0:w.toUpperCase())||u.token_b.address.toUpperCase()===((y=l.value.address)==null?void 0:y.toUpperCase())&&u.token_a.address.toUpperCase()===((S=s.value.address)==null?void 0:S.toUpperCase())}),t=[];return o.forEach(u=>{t.push(Number(u.fee))}),t}else return[]}),po=o=>{const t={};let u=new h(0);o.forEach(U=>{u=u.add(new h(U.object.liquidity))});const f=[];let w=new h(0);o.forEach(U=>{const L=new h(U.object.liquidity),H=L.gt(0)?new h(L).div(u).mul(100).toString():0,K=Qo(H,2);w=w.plus(K);const Z=K.split(".");f.push({value:K,int:Z[0],decimal:Z[1],fee:U.fee})});let y=new h(100).minus(w).toNumber();const S=f.sort((U,L)=>Number(L.decimal)-Number(U.decimal));if(y)for(let U=0;U<S.length&&y;U++)S[U].value=new h(S[U].value).plus(.01).toString(),y=new h(y).minus(.01).toNumber();return o.forEach(U=>{var H;const L=(H=S.find(K=>U.fee===K.fee))==null?void 0:H.value;t[U.fee]={rateText:(L>0&&L<.01?"<0.01":L==0?0:Qo(L,2))+"% select",rate:L}}),t},mo=z(()=>{if(q.value.poolConfigList&&l.value&&s.value){const o=q.value.poolConfigList.filter(u=>{var y,S,U,L;const f=u.coin_a_address=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":u.coin_a_address,w=u.coin_b_address=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":u.coin_b_address;return f.toUpperCase()===((y=l.value.address)==null?void 0:y.toUpperCase())&&w.toUpperCase()===((S=s.value.address)==null?void 0:S.toUpperCase())||w.toUpperCase()===((U=l.value.address)==null?void 0:U.toUpperCase())&&f.toUpperCase()===((L=s.value.address)==null?void 0:L.toUpperCase())});return po(o)}}),Ze=z(()=>[{label:.01+"% "+n("common.feeTier"),title:.01+"% ",fee:1e-4,text:n("newAdd.bestVeryStablePairs")},{label:.05+"% "+n("common.feeTier"),title:.05+"% ",fee:5e-4,text:n("newAdd.bestStablePairs")},M.value.chainName=="Aptos"?{label:.2+"% "+n("common.feeTier"),title:.2+"% ",fee:.002,text:n("newAdd.bestMostPairs")}:{label:.25+"% "+n("common.feeTier"),title:.25+"% ",fee:.0025,text:n("newAdd.bestMostPairs")},M.value.chainName=="Aptos"?{label:.6+"% "+n("common.feeTier"),title:.6+"% ",fee:.006,text:n("newAdd.besteExoticPairs")}:{label:"1% "+n("common.feeTier"),title:"1% ",fee:.01,text:n("newAdd.besteExoticPairs")}]),Re=z(()=>J.slippage),Mo=z(()=>!l.value||!s.value),jo=z(()=>{var o,t;return!!(!T.value&&!k.value||Number(T.value)>Number(ze.value)||Number(k.value)>Number(Xe.value)||R.value!==n("button.addLiquidity")&&R.value!==n("newAdd.preview")||N.value&&N.value&&N.value.is_pause||(o=d==null?void 0:d.query)!=null&&o.action&&!I.value&&!((t=I.value)!=null&&t.currentPrice)||Number(T.value)<=0&&Number(k.value)<=0||!fe.value&&Number(T.value)==0||!ge.value&&Number(k.value)==0||ce.value)}),R=z(()=>{var o,t;return N.value&&N.value.is_pause?"Pool Closed":!l.value||!s.value?n("modal.selectTokenModalTitle"):mn.value=="Sui"&&!De.value.includes(1e-4)&&!De.value.includes(5e-4)&&!De.value.includes(.0025)&&!De.value.includes(.01)&&!io.value[l==null?void 0:l.value.address]&&!io.value[(o=s.value)==null?void 0:o.address]?"Invalid Pool":(d.query.action||d.query.actions)&&!j.value&&Tn[M.value.chainName].hasCreatePool?"Select fee tier":Mo.value?n("modal.selectTokenModalTitle"):!Tn[M.value.chainName].hasCreatePool&&!N.value?n("button.poolNotFound"):Number(T.value)>Number(ze.value)?n("button.insufficientBalance",{name:l.value.symbol}):Number(k.value)>Number(Xe.value)?n("button.insufficientBalance",{name:s.value.symbol}):W.value?n("modal.selectTokenModalTitle"):!N.value&&l.value&&s.value&&((t=d==null?void 0:d.query)==null?void 0:t.action)=="create-pool"?n("newAdd.preview"):!Number(T.value)&&!Number(k.value)?n("button.enterAmount"):p.value!=="∞"&&Number(i.value)>=Number(p.value)?n("newAdd.invalidRange"):n("button.addLiquidity")}),P=z(()=>{var o,t,u;return!N.value||Co(M.value.addressHistTokens)||!M.value.addressHistTokens[(o=N.value)==null?void 0:o.poolAddress]?null:Object.fromEntries((u=M.value.addressHistTokens[(t=N.value)==null?void 0:t.poolAddress])==null?void 0:u.data.map(f=>[f.key,f.value]))}),oo=z(()=>A.value?P.value&&Be(Ie.value==7?P.value.before_7_d_contract_price_lowest:Ie.value==24?P.value.before_24_h_contract_price_lowest:P.value.before_30_d_contract_price_lowest,6)||0:P.value&&Be(new h(1).div(Ie.value==7?P.value.before_7_d_contract_price_highest:Ie.value==24?P.value.before_24_h_contract_price_highest:P.value.before_30_d_contract_price_highest).toString(),6)||0),Me=z(()=>A.value?P.value&&Be(Ie.value==7?P.value.before_7_d_contract_price_highest:Ie.value==24?P.value.before_24_h_contract_price_highest:P.value.before_30_d_contract_price_highest,6)||0:(P.value&&Be(1/Number(Ie.value==7?P.value.before_7_d_contract_price_lowest:Ie.value==24?P.value.before_24_h_contract_price_lowest:P.value.before_30_d_contract_price_lowest),6))==1/0?0:P.value&&Be(1/Number(Ie.value==7?P.value.before_7_d_contract_price_lowest:Ie.value==24?P.value.before_24_h_contract_price_lowest:P.value.before_30_d_contract_price_lowest),6)||0),ke=rt(),l=g(),s=g();kn(()=>{document.body.clientWidth<750?(He.value=!1,e.value=!1):(He.value=!0,e.value=!0)});const on=o=>{var t,u;if((t=N.value)==null||t.token_a.decimals,(u=N.value)==null||u.token_b.decimals,d.query.action&&Fo.value&&o!==i.value){wn();return}o!==i.value&&G.value=="full range"?dn({key:"custom",...to.value.custom}):(G.value!=="full range"&&G.value!=="custom"&&(G.value="custom"),i.value=o)},nn=o=>{if(d.query.action&&Fo.value&&o!==p.value){wn();return}o!==p.value&&G.value=="full range"?dn({key:"custom",...to.value.custom}):(G.value!=="full range"&&G.value!=="custom"&&(G.value="custom"),p.value=o)},tn=()=>{var t;if(d.query.action)A.value=!A.value,I.value&&pn(Be(new h(1).div(I.value.currentPrice).toString(),(t=s==null?void 0:s.value)==null?void 0:t.decimals));else if(V.value=!0,V.value=!1,A.value=!A.value,i.value!==""&&p.value!==""&&i.value!=="0"&&p.value!=="∞"){const u=i.value,f=p.value;i.value=new h(1).div(f).toString(),p.value=new h(1).div(u).toString();const w=O.value,y=X.value;O.value=new h(1).div(y).toString(),X.value=new h(1).div(w).toString(),ne.value=!1}const o=l.value;l.value=s.value,s.value=o,b.value?T.value=k.value:k.value=T.value};Ce([i,p],([o,t])=>{Number(o)!==0&&Number(t)!==0&&so(),t!=="∞"&&Number(o)!==0&&Number(t)!==0&&Number(o)>=Number(t)?ce.value=!0:ce.value=!1,Number(o)==0&&Number(t)==0&&Fe.value&&(ce.value=!0)});const Ro=g(!1),Uo=g(!1),an=o=>{var t,u,f,w,y,S,U,L,H;ee.value=o,o==="fromCoin"?(F.value=((t=s.value)==null?void 0:t.address)||"",ie.value=d.query.action=="create-pool"||d.query.actions=="new-position"||!N.value?(u=l.value)==null?void 0:u.address:N.value.needReverse?N.value.token_b.address:N.value.token_a.address,((f=d==null?void 0:d.query)==null?void 0:f.action)=="create-pool"&&((w=d==null?void 0:d.query)==null?void 0:w.from)==="pool"?Uo.value=!0:Uo.value=!1,Ro.value=!1):(F.value=((y=l.value)==null?void 0:y.address)||"",ie.value=d.query.action=="create-pool"||d.query.actions=="new-position"||!N.value?(S=s.value)==null?void 0:S.address:N.value.needReverse?N.value.token_a.address:N.value.token_b.address,((U=d==null?void 0:d.query)==null?void 0:U.action)=="create-pool"&&((L=d==null?void 0:d.query)==null?void 0:L.from)==="pool"&&!io[(H=l.value)==null?void 0:H.address]?Ro.value=!0:Ro.value=!1,Uo.value=!1),Pe.value=!0},Te=g(null),$e=g(null),Vo=g({}),Ko=g({}),ln=o=>{var f,w,y,S;W.value=!1;const t=N.value?N.value.needReverse?N.value.token_b:N.value.token_a:Te.value,u=N.value?N.value.needReverse?N.value.token_a:N.value.token_b:$e.value;ee.value==="fromCoin"?(((f=l.value)==null?void 0:f.address)===(t==null?void 0:t.address)||!((w=l.value)!=null&&w.address)?(s.value&&o.address.toLowerCase()===(s==null?void 0:s.value.address.toLowerCase())&&(s.value=null,$e.value=null,j.value=""),l.value=o,Te.value=o):(l.value&&o.address.toLowerCase()===(l==null?void 0:l.value.address.toLowerCase())&&(l.value=null,Te.value=null,j.value=""),s.value=o),d.query.action||(d.query.fee="")):(((y=s.value)==null?void 0:y.address)===(u==null?void 0:u.address)||!((S=s.value)!=null&&S.address)?(l.value&&o.address.toLowerCase()===(l==null?void 0:l.value.address.toLowerCase())&&(l.value=null,Te.value=null,j.value=""),s.value=o,$e.value=o):(s.value&&o.address.toLowerCase()===(s==null?void 0:s.value.address.toLowerCase())&&(s.value=null,$e.value=null,j.value=""),l.value=o),d.query.action||(d.query.fee="")),pn(""),Pe.value=!1},rn=o=>{o==="fromCoin"?(b.value=!0,M.value.chainName==="Aptos"?T.value=Number(ze.value)>0?l.value.symbol=="APT"?new h(Number(ze.value)).sub(new h(.1)).lt(new h(0))?"0":new h(Number(ze.value)).sub(new h(.1)).toString():String(ze.value):"":T.value=Number(ze.value)>0?l.value.symbol=="SUI"?new h(Number(ze.value)).sub(new h(.05)).lt(new h(0))?"0":new h(Number(ze.value)).sub(new h(.05)).toString():String(ze.value):""):(b.value=!1,M.value.chainName==="Aptos"?k.value=Number(Xe.value)>0?s.value.symbol=="APT"?new h(Number(Xe.value)).sub(new h(.1)).lt(new h(0))?"0":new h(Number(Xe.value)).sub(new h(.1)).toString():String(Xe.value):"":k.value=Number(Xe.value)>0?s.value.symbol=="SUI"?new h(Number(Xe.value)).sub(new h(.05)).lt(new h(0))?"0":new h(Number(Xe.value)).sub(new h(.05)).toString():String(Xe.value):"")},sn=o=>{o==="fromCoin"?(b.value=!0,T.value=Number(ze.value)>0?Qo(new h(Number(ze.value)).div(2).toString(),l.value.decimals).toString():""):(b.value=!1,k.value=Number(Xe.value)>0?Qo(new h(Number(Xe.value)).div(2).toString(),s.value.decimals).toString():"")};Ce(T,(o,t)=>{o==""&&b.value&&(k.value=""),o&&b.value&&so()}),Ce(k,(o,t)=>{o==""&&!b.value&&(T.value=""),o&&!b.value&&so()});const un=()=>{l.value=null,s.value=null,i.value="0",p.value="0",T.value="",k.value="",W.value=!0,j.value="",ye.value=!1,fe.value=!0,ge.value=!0,V.value=!1},lo=g(!1),{setIsShowSuccess:fo,setIsShowRejected:go,setIsShowWaiting:Ge,setTransactionDesc:_o,setTransactionTxid:bo,setPositiomNum:Wo}=J,d=ut(),Je=bn(),So=z(()=>Tn[M.value.chainName].hasCreatePool);Ce(()=>[j.value,d.query.action,l.value,s.value,d.query.actions,So.value],([o,t,u,f,w,y])=>{!o&&(t=="create-pool"||w=="new-position")&&u&&f&&y?(ye.value=!0,V.value=!1):(!u||!f)&&(ye.value=!1)},{immediate:!0});const q=z(()=>Je);Ce(()=>q.value.tokens,async o=>{if(o&&o.length>0){const t=o;if(d&&d.query&&d.query.tokena&&d.query.tokena){const u=await $.value.getTokenBySymbol(t,d.query.tokena);l.value=u,Te.value=u}if(d&&d.query&&d.query.tokenb&&d.query.tokenb){const u=await $.value.getTokenBySymbol(t,d.query.tokenb);s.value=u,$e.value=u}}},{immediate:!0});const ko=g({}),fe=g(!1),ge=g(!1),Do=g(),Eo=g(),Fe=g(),ro=g(),so=async()=>{var qe,ue,Qe,Ue,de,Oe;if(!i.value&&!p.value)return!1;if(!T.value&&!k.value&&!i.value&&!p.value)return;const o=N.value?N.value:I.value;if(Co(o))return;const{TickUtil:t,TickMath:u,getNearestTickByTick:f}=$.value,w=o==null?void 0:o.token_a.decimals,y=o==null?void 0:o.token_b.decimals;let S,U,L,H,K,Z,le,he,se=o.current_tick_index,oe;if(o.token_a.address.toLowerCase()===l.value.address.toLowerCase()&&o.token_b.address.toLowerCase()===s.value.address.toLowerCase()?oe=!0:oe=!1,i.value==="0"&&p.value==="∞")L=t.getMinIndex(Number(o.tickSpacing)),H=t.getMaxIndex(Number(o.tickSpacing)),K=u.tickIndexToSqrtPriceX64(L),Z=u.tickIndexToSqrtPriceX64(H);else if(G.value=="custom"||d.query.action){oe?(S=Number(i.value),U=Number(p.value)):(S=new h(1).div(p.value).toString(),U=new h(1).div(i.value).toString());try{le=S==0?-443636:u.priceToTickIndex(new h(S),w,y)}catch{le=-443636}try{he=u.priceToTickIndex(new h(U),w,y)}catch{he=443636}L=f(le,Number(o.tickSpacing)),H=f(he,Number(o.tickSpacing)),K=u.priceToSqrtPriceX64(new h(S),w,y);try{Z=u.priceToSqrtPriceX64(new h(U),w,y)}catch{U===1/0&&(Z=u.tickIndexToSqrtPriceX64(t.getMaxIndex(Number(o.tickSpacing))))}}else L=(qe=to.value[G.value])==null?void 0:qe.lower,H=(ue=to.value[G.value])==null?void 0:ue.upper,K=u.tickIndexToSqrtPriceX64(L),Z=u.tickIndexToSqrtPriceX64(H);if(p.value!=="∞"&&L>=H){fe.value=!0,T.value="",ge.value=!0,k.value="";return}if(p.value==="∞"||se>=L&&se<=H){fe.value=!1,ge.value=!1;let Ne;if(T.value||k.value){if(b.value){const vo=new h(T.value).mul(Math.pow(10,l.value.decimals)).toString();Ne=new ho(vo)}else{const vo=new h(k.value).mul(Math.pow(10,s.value.decimals)).toString();Ne=new ho(vo)}const{liquidityAmount:we,tokenMaxA:no,tokenMaxB:Ve,tokenMaxAOrigin:je,tokenMaxBOrigin:co}=$.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:o.token_a,tokenB:o.token_b,lowerTick:L,upperTick:H,coinAmount:Ne,iscoinA:oe?b.value:!b.value,roundUp:!0,slippage:Number(Re.value)/100,curSqrtPrice:new ho(o.current_sqrt_price)});ko.value={liquidityAmount:we,tokenMaxA:no,tokenMaxB:Ve,tokenMaxAOrigin:je,tokenMaxBOrigin:co},oe?b.value?k.value=Number(Ve)>0?Ve:"":T.value=Number(no)>0?no:"":b.value?k.value=no:T.value=Ve}}else if(se>H){if(oe?T.value="":k.value="",fe.value=oe,ge.value=!oe,(Qe=d==null?void 0:d.query)!=null&&Qe.action&&(fe.value=!0,ge.value=!0),T.value||k.value){let Ne;if(oe){const we=new h(k.value).mul(Math.pow(10,(Ue=s.value)==null?void 0:Ue.decimals)).toString();Ne=new ho(we),ko.value={liquidityAmount:$.value.estimateLiquidityForCoinB(K,Z,Ne),tokenMaxA:0,tokenMaxB:k.value}}else{const we=new h(T.value).mul(Math.pow(10,(de=l.value)==null?void 0:de.decimals)).toString();Ne=new ho(we),ko.value={liquidityAmount:$.value.estimateLiquidityForCoinB(K,Z,Ne),tokenMaxA:0,tokenMaxB:T.value}}}}else if(se<L){if(fe.value=!oe,ge.value=oe,(Oe=d==null?void 0:d.query)!=null&&Oe.action&&(fe.value=!0,ge.value=!0),oe?k.value="":T.value="",T.value||k.value){let Ne;if(oe){const we=new h(T.value).mul(Math.pow(10,l.value.decimals)).toString();Ne=new ho(we),ko.value={liquidityAmount:$.value.estimateLiquidityForCoinA(K,Z,Ne),tokenMaxA:T.value,tokenMaxB:0}}else{const we=new h(k.value).mul(Math.pow(10,s.value.decimals)).toString();Ne=new ho(we),ko.value={liquidityAmount:$.value.estimateLiquidityForCoinA(K,Z,Ne),tokenMaxA:k.value,tokenMaxB:0}}}}else fe.value=!0,T.value="",ge.value=!0,k.value=""},Oo=g(0);Ce(()=>{var o;return(o=d.query)==null?void 0:o.fee},o=>{o&&(Oo.value=o,j.value=Number(o)*100+"% "+n("common.feeTier"))},{immediate:!0,deep:!0});const Zo=z(()=>{var w,y,S;const o=(w=d==null?void 0:d.query)==null?void 0:w.fee,t=(y=d==null?void 0:d.query)==null?void 0:y.tokena,u=(S=d==null?void 0:d.query)==null?void 0:S.tokenb;let f=null;for(let U=0;U<q.value.poolConfigList.length;U++){const L=q.value.poolConfigList[U];!t||!u?f={}:(L.token_a.address.toUpperCase()===(t==null?void 0:t.toUpperCase())&&L.token_b.address.toUpperCase()===(u==null?void 0:u.toUpperCase())||L.token_b.address.toUpperCase()===(t==null?void 0:t.toUpperCase())&&L.token_a.address.toUpperCase()===(u==null?void 0:u.toUpperCase()))&&(f=L)}return f}),N=z(()=>{var t,u,f,w,y,S,U,L,H,K,Z,le,he;const o=(t=d==null?void 0:d.query)==null?void 0:t.fee;if(l.value&&s.value){let se=null;if(o)for(const qe in q.value.poolsObj){const ue=q.value.poolsObj[qe];(ue.token_a.address.toUpperCase()===((f=(u=l==null?void 0:l.value)==null?void 0:u.address)==null?void 0:f.toUpperCase())&&ue.token_b.address.toUpperCase()===((y=(w=s==null?void 0:s.value)==null?void 0:w.address)==null?void 0:y.toUpperCase())&&Number(ue.fee)==Number(Oo.value)||ue.token_b.address.toUpperCase()===((S=l==null?void 0:l.value.address)==null?void 0:S.toUpperCase())&&ue.token_a.address.toUpperCase()===((L=(U=s==null?void 0:s.value)==null?void 0:U.address)==null?void 0:L.toUpperCase())&&Number(ue.fee)==Number(Oo.value))&&(se=ue)}const oe=[];if(!((H=d==null?void 0:d.query)!=null&&H.action)&&(!o||!se)){for(const qe in q.value.poolsObj){const ue=q.value.poolsObj[qe];(ue.token_a.address.toUpperCase()===((K=l==null?void 0:l.value.address)==null?void 0:K.toUpperCase())&&ue.token_b.address.toUpperCase()===((Z=s.value.address)==null?void 0:Z.toUpperCase())||ue.token_b.address.toUpperCase()===((le=l==null?void 0:l.value.address)==null?void 0:le.toUpperCase())&&ue.token_a.address.toUpperCase()===((he=s.value.address)==null?void 0:he.toUpperCase()))&&oe.push(ue)}oe&&oe.length>0&&(se=oe.sort((qe,ue)=>{const Qe=qe.coinAmountA+qe.coinAmountB;return ue.coinAmountA+ue.coinAmountB-Qe})[0])}return se&&!Co(se)?se:null}return null}),v=z(()=>{var f,w;const o=(f=l==null?void 0:l.value)==null?void 0:f.address,t=(w=s==null?void 0:s.value)==null?void 0:w.address;let u=null;for(let y=0;y<q.value.poolConfigList.length;y++){const S=q.value.poolConfigList[y];!o||!t?u={}:(S.token_a.address.toUpperCase()===(o==null?void 0:o.toUpperCase())&&S.token_b.address.toUpperCase()===(t==null?void 0:t.toUpperCase())||S.token_b.address.toUpperCase()===(o==null?void 0:o.toUpperCase())&&S.token_a.address.toUpperCase()===(t==null?void 0:t.toUpperCase()))&&(u=S)}return u});Ce(()=>[Zo.value,N.value,q.value.recommendRangesObj],(o,t)=>{var u,f,w,y,S;o[0]&&!o[1]&&o[2]&&!Co(o[2])&&(!t||o[0]&&((u=o[0])==null?void 0:u.address)!==t[0]&&((f=t[0])!=null&&f.address))&&(w=o[0])!=null&&w.address&&!((y=d==null?void 0:d.query)!=null&&y.action)&&Je.setSinglePool(o[0],o[2][(S=o[0])==null?void 0:S.address],M.value.chainName)},{immediate:!0,deep:!0});const to=g({}),Bo=async(o,t)=>{var u,f,w,y;if(o){const{TickMath:S,getNearestTickByTick:U}=$.value;t&&(V.value=!0,fe.value=!1,ge.value=!1),ne.value=!0;const L=o.token_a.decimals,H=o.token_b.decimals;j.value=o.fee*100+"% "+n("common.feeTier");const K=o.current_tick_index;Fe.value=S.sqrtPriceX64ToPrice(o.current_sqrt_price,L,H).toString(),ro.value=new h(1).div(new h(Fe.value)).toString();const Z=await $.value.getTicks(o);if(We.value=Z?$.value.getTickDataFromUrlData(Z):[],t){let le=q.value.poolPriceConfigObj&&q.value.poolPriceConfigObj[o.address]&&q.value.poolPriceConfigObj[o.address].recommend_ranges||{};const he=q.value.poolPriceConfigObj&&q.value.poolPriceConfigObj[o.address]&&q.value.poolPriceConfigObj[o.address].type||"",se=K-Number(he=="unstable"?Number(o.tickSpacing)*2:Number(o.tickSpacing)*3),oe=K+Number(he=="unstable"?Number(o.tickSpacing)*2:Number(o.tickSpacing)*3),qe=(f=(u=N==null?void 0:N.value)==null?void 0:u.token_a)==null?void 0:f.decimals,ue=(y=(w=N==null?void 0:N.value)==null?void 0:w.token_b)==null?void 0:y.decimals,Qe=$.value.TickMath.tickIndexToPrice(se,qe,ue).toString(),Ue=$.value.TickMath.tickIndexToPrice(oe,qe,ue).toString();le["full range"]={lower:-443636,upper:443636},le.custom={lower:se,upper:oe,minPrice:Qe,maxPrice:Ue};const de=[];for(let Oe in le)le[Oe]&&de.push({...le[Oe],key:Oe});To.value=de,he?o.isSelfBuilt?G.value="custom":he=="stable"?G.value="suggested":G.value="passive":G.value="custom",to.value=le,dn({key:G.value,...le[G.value]})}V.value=!1}else V.value=!1},Ho=z(()=>Je.getPoolInfoSuccess);Ce(()=>N.value,(o,t)=>{var u,f,w,y,S,U,L,H,K,Z,le,he;o&&o.current_sqrt_price?((!t||o.poolAddress!==t.poolAddress||o.current_sqrt_price!==t.current_sqrt_price)&&Bo(o,!t||o.poolAddress!==t.poolAddress),(d==null?void 0:d.name)=="deposit"&&ke.push(`/deposit?poolAddress=${o==null?void 0:o.address}&tokena=${(u=l==null?void 0:l.value)==null?void 0:u.address}&tokenb=${(f=s==null?void 0:s.value)==null?void 0:f.address}&fee=${o==null?void 0:o.fee}`)):((w=d==null?void 0:d.query)==null?void 0:w.actions)=="new-position"||(!v.value&&So.value&&((y=l==null?void 0:l.value)!=null&&y.address||(S=s==null?void 0:s.value)!=null&&S.address)?(j.value="",i.value="0",p.value="∞",fe.value=!1,ge.value=!1,V.value=!1,Fe.value="",ro.value="",(d==null?void 0:d.name)=="deposit"&&ke.push(`/deposit?action=create-pool&tokena=${(U=l==null?void 0:l.value)==null?void 0:U.address}&tokenb=${(L=s==null?void 0:s.value)==null?void 0:L.address}&from=${(H=d==null?void 0:d.query)==null?void 0:H.from}`)):So.value&&!o&&!((K=d==null?void 0:d.query)!=null&&K.action)&&Ho.value&&!Zo.value?(j.value="",i.value="0",p.value="∞",fe.value=!1,ge.value=!1,V.value=!1,Fe.value="",ro.value="",(d==null?void 0:d.name)=="deposit"&&ke.push(`/deposit?action=create-pool&tokena=${(Z=l==null?void 0:l.value)==null?void 0:Z.address}&tokenb=${(le=s==null?void 0:s.value)==null?void 0:le.address}&from=${(he=d==null?void 0:d.query)==null?void 0:he.from}`)):(fe.value=!1,ge.value=!1,V.value=!1,Fe.value="",ro.value=""))},{immediate:!0});const ze=z(()=>B.value.assets&&l.value&&B.value.assets[l.value.address]?ot(B.value.assets[l.value.address].balance,l.value.decimals):"0"),Xe=z(()=>B.value.assets&&s.value&&B.value.assets[s.value.address]?ot(B.value.assets[s.value.address].balance,s.value.decimals):"0"),Go=async()=>{const o=await $.value.getTicks(N.value),t=o?$.value.getTickDataFromUrlData(o):[];We.value=t},Cn=aa(),zo=z(()=>q.value.currentPositionInfo),ft=async o=>{var K,Z,le,he,se,oe,qe,ue,Qe,Ue;lo.value=!1,q.value.currentPositionInfo={},bo(""),_o(n("tips.increaseLiquiditySuccess",{from:fe.value?"":`${T.value} ${(K=l.value)==null?void 0:K.symbol}`,and:!fe.value&&!ge.value?"and":"",to:ge.value?"":`${k.value} ${(Z=s.value)==null?void 0:Z.symbol}`})),Ge(!0);const t=A.value?b.value:!b.value;let u,f,w,y,S,U;const L=N.value.token_a.decimals,H=N.value.token_b.decimals;if(i.value==="0"&&p.value==="∞")w=$.value.TickUtil.getMinIndex(Number(N.value.tickSpacing)),y=$.value.TickUtil.getMaxIndex(Number(N.value.tickSpacing));else if(G.value=="custom"){A.value?(u=Number(i.value),f=Number(p.value)):(u=new h(1).div(p.value).toString(),f=new h(1).div(i.value).toString());try{S=u==0?$.value.TickUtil.getMinIndex(Number(N.value.tickSpacing)):$.value.TickMath.priceToTickIndex(new h(u),L,H)}catch{S=$.value.TickUtil.getMinIndex(Number(N.value.tickSpacing))}try{U=$.value.TickMath.priceToTickIndex(new h(f),L,H)}catch{U=$.value.TickUtil.getMaxIndex(Number(N.value.tickSpacing))}w=$.value.getNearestTickByTick(S,Number(N.value.tickSpacing)),y=$.value.getNearestTickByTick(U,Number(N.value.tickSpacing))}else w=to.value[G.value].lower,y=to.value[G.value].upper;try{const de=await $.value.getAddLiquidityTransactionPayload({pool:{poolAddress:N.value.poolAddress,token_a:N.value.token_a,token_b:N.value.token_b},amount:b.value?T.value:k.value,fix_amount_a:t,tick_lower:w,tick_upper:y,index:0,slippage:Number(Re.value)/100,roundUp:!0,collect_fee:!1,curSqrtPrice:new ho(N.value.current_sqrt_price)});let Oe;if(M.value.chainName==="Aptos")Oe=await B.value.currentWallet.signAndSubmitTransaction(de);else{const Ne=await $.value.signAndExecuteTransactionBlock(B.value.currentWallet,de==null?void 0:de.txb);Oe=$.value.handleTx(Ne)}if(console.log("0410###tx###",Oe),Oe&&Oe.hash){bo(Oe.hash),Ge(!1),fo(!0);const Ne=qn();let we;N.value.needReverse?N.value.token_a.address.toLowerCase()===l.value.address.toLowerCase()&&N.value.token_b.address.toLowerCase()===s.value.address.toLowerCase()?we=!1:we=!0:N.value.token_a.address.toLowerCase()===l.value.address.toLowerCase()&&N.value.token_b.address.toLowerCase()===s.value.address.toLowerCase()?we=!0:we=!1;const no={title:"Supplied",desc:n("tips.addLiquiditySuccessText",{from:fe.value?"":`${T.value} ${(le=l.value)==null?void 0:le.symbol}`,and:!fe.value&&!ge.value?"and":"",to:ge.value?"":`${k.value} ${(he=s.value)==null?void 0:he.symbol}`}),hash:Oe.hash,tit:"Position Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:we?(se=l.value)==null?void 0:se.address:(oe=s.value)==null?void 0:oe.address,numa:we?T.value:k.value,logoa:we?q.value.tokensObj&&l.value&&l.value.address&&q.value.tokensObj[l.value.address]&&q.value.tokensObj[l.value.address].logoURI:q.value.tokensObj&&s.value&&s.value.address&&q.value.tokensObj[s.value.address]&&q.value.tokensObj[s.value.address].logoURI,tokenb:we?(ue=s.value)==null?void 0:ue.address:(qe=l.value)==null?void 0:qe.address,numb:we?k.value:T.value,logob:we?q.value.tokensObj&&s.value&&s.value.address&&q.value.tokensObj[s.value.address]&&q.value.tokensObj[s.value.address].logoURI:q.value.tokensObj&&l.value&&l.value.address&&q.value.tokensObj[l.value.address]&&q.value.tokensObj[l.value.address].logoURI},text:`Deopsit ${fe.value?"":`${T.value} ${(Qe=l.value)==null?void 0:Qe.symbol}`} ${!fe.value&&!ge.value?"and":""} ${ge.value?"":`${k.value} ${(Ue=s.value)==null?void 0:Ue.symbol}`}`};M.value.chainName!=="Aptos"&&(no.res=Oe.res),$.value.showTransitionPending(no);const Ve=await $.value.watchTransaction(no,!0);if(Ve.status){if(fo(!1),q.value.setCurrentPositionLoading(!0),D.value=!0,M.value.chainName==="Aptos"){if(await q.value.setCurrentPositionInfo(Ve.nftInfo[0].data.id.creator,Ve.nftInfo[0].data.id.collection,Ve.nftInfo[0].data.name,M.value.chainName),o)try{await Cn.subscribePosition({pool_address:zo.value.poolAddress,position_index:zo.value.index},zo.value.nftHash)}catch(je){console.log(je,"e")}}else{const je=Ve.nftInfo,co=await et(2e3);if(await q.value.setCurrentPositionInfo(je==null?void 0:je.pool,"","",M.value.chainName,je==null?void 0:je.position),await et(1e3),console.log("0529###nftInfo###",je),o)try{await Cn.subscribePosition({pool_address:zo.value.poolAddress,position_index:zo.value.index},zo.value.nftHash)}catch(vo){console.log(vo)}}setTimeout(()=>{Je.updateCurrentPools(N.value.poolAddress,M.value.chainName),$.value.getAccount(B.value.address)},3e3),setTimeout(async()=>{Go()},3e3)}Wo()}else Ge(!1),go(!0);T.value="",k.value=""}catch(de){T.value="",k.value="",console.log("0330###Add liquidity Error###",de),Ge(!1),go(!0)}},gt=o=>{switch(o){case"active":return n("newAdd.activeTips");case"passive":return n("newAdd.passiveTips");case"full range":return n("newAdd.fullRangTips");case"suggested":return n("newAdd.suggestedTips");case"custom":return n("newAdd.customTips")}},bt=o=>{switch(o){case"suggested":return n("newAdd.suggested");case"active":return n("newAdd.active");case"passive":return n("newAdd.conservative");case"full range":return n("newAdd.fullRange");case"custom":return n("newAdd.custom")}},dn=o=>{G.value=o.key.toLowerCase();const t=N.value.token_a.decimals,u=N.value.token_b.decimals,{lower:f,upper:w}=o,y=$.value.TickMath.tickIndexToPrice(f,t,u).toString(),S=$.value.TickMath.tickIndexToPrice(w,t,u).toString();if(o.key=="full range"){Do.value=f,Eo.value=w,eo(!0),so();return}A.value?(O.value=String(y),i.value=String(y),X.value=String(S),p.value=String(S),Do.value=f,Eo.value=w,so()):(O.value=String(1/Number(S)),i.value=String(1/Number(S)),X.value=String(1/Number(y)),p.value=String(1/Number(y)),Do.value=$.value.TickMath.priceToTickIndex(new h(1/Number(S)),t,u),Eo.value=$.value.TickMath.priceToTickIndex(new h(1/Number(y)),t,u),so())},kt=z(()=>q.value.tokensObj&&l.value.address&&q.value.tokensObj[l.value.address]&&q.value.tokensObj[l.value.address].logoURI),ht=z(()=>q.value.tokensObj&&s.value.address&&q.value.tokensObj[s.value.address]&&q.value.tokensObj[s.value.address].logoURI),qn=()=>{var u,f,w,y,S,U,L,H;let o=null;const t=q.value.poolConfigList;for(let K=0;K<t.length;K++){const Z=t[K];if(Z.token_a.address.toUpperCase()===((f=(u=l==null?void 0:l.value)==null?void 0:u.address)==null?void 0:f.toUpperCase())&&Z.token_b.address.toUpperCase()===((y=(w=s==null?void 0:s.value)==null?void 0:w.address)==null?void 0:y.toUpperCase())||Z.token_b.address.toUpperCase()===((U=(S=l==null?void 0:l.value)==null?void 0:S.address)==null?void 0:U.toUpperCase())&&Z.token_a.address.toUpperCase()===((H=(L=s==null?void 0:s.value)==null?void 0:L.address)==null?void 0:H.toUpperCase())){o=Z;break}}return o},Ct=o=>{var u,f,w,y,S,U,L,H,K,Z;const t=qn();if(t&&(Te.value=t.needReverse?t==null?void 0:t.token_b:t==null?void 0:t.token_a,$e.value=t.needReverse?t==null?void 0:t.token_a:t==null?void 0:t.token_b,l.value=t.needReverse?t==null?void 0:t.token_b:t==null?void 0:t.token_a,s.value=t.needReverse?t==null?void 0:t.token_a:t==null?void 0:t.token_b,A.value=l.value.address===((u=t==null?void 0:t.token_a)==null?void 0:u.address)),De.value.includes(o.fee))j.value=o.label,Oo.value=o.fee,ke.push(`/deposit?tokena=${t?t.needReverse?(w=t==null?void 0:t.token_b)==null?void 0:w.address:(f=t==null?void 0:t.token_a)==null?void 0:f.address:A.value?l.value.address:s.value.address}&tokenb=${t?t.needReverse?(S=t==null?void 0:t.token_a)==null?void 0:S.address:(y=t==null?void 0:t.token_b)==null?void 0:y.address:A.value?s.value.address:l.value.address}&fee=${o.fee}`);else{if(M.value.chainName!=="Aptos"&&!io.value[l.value.address]&&!io.value[s.value.address])return;j.value=o.label,N.value&&(i.value="",p.value=""),T.value="",k.value="",Fe.value="",ro.value="",i.value="",p.value="",cn.value="",vn.value="",ke.push(`/deposit?action=create-pool&tokena=${t?t.needReverse?(L=t==null?void 0:t.token_b)==null?void 0:L.address:(U=t==null?void 0:t.token_a)==null?void 0:U.address:A.value?l.value.address:s.value.address}&tokenb=${t?t.needReverse?(K=t==null?void 0:t.token_a)==null?void 0:K.address:(H=t==null?void 0:t.token_b)==null?void 0:H.address:A.value?s.value.address:l.value.address}&fee=${o.fee}&from=${(Z=d==null?void 0:d.query)==null?void 0:Z.from}`)}},yt=g(!1),wt=()=>{N.value,lo.value=!0},I=g(null),cn=g(""),vn=g(""),pn=o=>{var U,L,H,K,Z,le,he,se,oe,qe,ue,Qe;if(o?(cn.value=o,Fe.value=o,ro.value=o,vn.value=new h(1).div(new h(o)).toString(),V.value=!1):(cn.value="",Fe.value="",ro.value="",vn.value=""),!((U=Te.value)!=null&&U.address)||!((L=$e.value)!=null&&L.address))return;let t=!1;const u=q.value.poolConfigList;let f=null;for(let Ue=0;Ue<u.length;Ue++){const de=u[Ue];if(de.token_a.address.toUpperCase()===((K=(H=Te==null?void 0:Te.value)==null?void 0:H.address)==null?void 0:K.toUpperCase())&&de.token_b.address.toUpperCase()===((le=(Z=$e==null?void 0:$e.value)==null?void 0:Z.address)==null?void 0:le.toUpperCase())){t=de.needReverse,f=de;break}else if(de.token_b.address.toUpperCase()===((se=(he=Te==null?void 0:Te.value)==null?void 0:he.address)==null?void 0:se.toUpperCase())&&de.token_a.address.toUpperCase()===((qe=(oe=$e==null?void 0:$e.value)==null?void 0:oe.address)==null?void 0:qe.toUpperCase())){t=de.needReverse,f=de;break}}let w=!1;$.value.getIsSortedSymbols((ue=Te.value)==null?void 0:ue.address,(Qe=$e.value)==null?void 0:Qe.address)&&(w=!0);let y;w&&!A.value?y=!0:w&&A.value||!w&&A.value?y=!1:y=!0;const S=M.value.chainName=="Aptos"?ea:oa;if(l.value&&s.value&&o){const Ue=f?f==null?void 0:f.token_a.decimals:w?$e.value.decimals:Te.value.decimals,de=f?f==null?void 0:f.token_b.decimals:w?Te.value.decimals:$e.value.decimals,Oe=o&&$.value.TickMath.priceToSqrtPriceX64(y?new h(1/o):new h(o),Ue,de),Ne=o&&$.value.TickMath.priceToSqrtPriceX64(new h(1).div(o),l.value.decimals,s.value.decimals),we=$.value.TickMath.priceToTickIndex(y?new h(1).div(o):new h(o),Ue,de),no=we-S[d.query.fee]*5,Ve=we+S[d.query.fee]*5,je=$.value.TickMath.tickIndexToPrice(no,Ue,de).toString(),co=$.value.TickMath.tickIndexToPrice(Ve,Ue,de).toString();Fo.value?(i.value="0",p.value="∞"):y?(i.value=String(1/co),p.value=String(1/je),O.value=String(1/co),X.value=String(1/je)):(i.value=je,p.value=co,O.value=je,X.value=co);const vo={token_a:f?f.token_a:w?$e.value:Te.value,token_b:f?f.token_b:w?Te.value:$e.value,isCreate:!0,tickSpacing:S[d.query.fee],currentPrice:o,current_sqrt_price:Oe,tick_lower:no,tick_upper:Ve,current_tick_index:we,currentPriceReverse:gn(String(1/o),6),reverse_current_sqrt_price:Ne,needReverse:t,fee:d.query.fee};I.value=vo,so()}else I.value=null,i.value="",p.value=""},Pt=async()=>{var H,K,Z,le;if(M.value.chainName!=="Aptos"){Ln();return}lo.value=!1;let o,t,u,f,w,y;const S=Te.value.decimals,U=$e.value.decimals;bo(""),_o(n("tips.increaseLiquiditySuccess",{from:fe.value?"":`${T.value} ${(H=l.value)==null?void 0:H.symbol}`,and:!fe.value&&!ge.value?"and":"",to:ge.value?"":`${k.value} ${(K=s.value)==null?void 0:K.symbol}`})),Ge(!0),i.value==="0"&&p.value==="∞"?(u=$.value.TickUtil.getMinIndex(Number(I.value.tickSpacing)),f=$.value.TickUtil.getMaxIndex(Number(I.value.tickSpacing))):(A.value?(o=Number(i.value),t=Number(p.value)):(o=1/Number(p.value),t=1/Number(i.value)),w=o==0?-443636:$.value.TickMath.priceToTickIndex(new h(o),S,U),y=$.value.TickMath.priceToTickIndex(new h(t),S,U),u=$.value.getNearestTickByTick(w,Number(I.value.tickSpacing)),f=$.value.getNearestTickByTick(y,Number(I.value.tickSpacing)));const L=A.value?b.value:!b.value;try{const he=await $.value.getCreatPoolTransactionPayload({coinTypeA:Te.value.address,coinTypeB:$e.value.address,tick_spacing:Number(I.value.tickSpacing),initialize_sqrt_price:new ho(I.value.current_sqrt_price),uri:"",current_tick_index:I.value.current_tick_index,max_amount_a:A.value?T.value:k.value,max_amount_b:A.value?k.value:T.value,tick_lower:u,tick_upper:f,slippage:Number(Re.value)/100,decimalsA:S,decimalsB:U,fix_amount_a:L,liquidityInput:ko.value});let se;if(M.value.chainName==="Aptos")se=await B.value.currentWallet.signAndSubmitTransaction(he);else{const oe=await $.value.signAndExecuteTransactionBlock(B.value.currentWallet,he);se=$.value.handleTx(oe)}if(se&&se.hash){bo(se.hash),Ge(!1),fo(!0);const oe={title:"Created pool",desc:"Pool created successfully ",hash:se.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(Z=l.value)==null?void 0:Z.address}`,numa:fe.value?"":`- ${T.value}`,logoa:q.value.tokensObj&&l.value&&l.value.address&&q.value.tokensObj[l.value.address]&&q.value.tokensObj[l.value.address].logoURI,tokenb:`${(le=s.value)==null?void 0:le.address}`,numb:ge.value?"":`- ${k.value}`,logob:q.value.tokensObj&&s.value&&s.value.address&&q.value.tokensObj[s.value.address]&&q.value.tokensObj[s.value.address].logoURI},text:"Pool created successfully"};M.value.chainName!=="Aptos"&&(oe.res=se.res),$.value.showTransitionPending(oe),(await $.value.watchTransaction(oe,!0)).status&&(fo(!1),te.value=!0,setTimeout(()=>{Je.setPoolConfigList(M.value.chainName,M.value.filterCoinsObj),$.value.getAccount(B.value.address)},1e3)),Wo()}else Ge(!1),go(!0);T.value="",k.value=""}catch(he){Je.setPoolConfigList(M.value.chainName,M.value.filterCoinsObj),lo.value=!1,console.log(he,"error===>"),T.value="",k.value="",Ge(!1),go(!0)}},Ln=async()=>{var he,se,oe,qe,ue,Qe,Ue,de,Oe,Ne,we,no,Ve,je,co,vo,Rn,Un,On,Bn,Fn,jn,_n,Wn,Dn,En,Hn,zn,Xn,Vn,Kn,Zn,Gn,Jn,Qn;lo.value=!1;let o=!1;$.value.getIsSortedSymbols(Te.value.address,$e.value.address)&&(o=!0),bo("");const t=fe.value?"":`${T.value} ${(he=l.value)==null?void 0:he.symbol}`,u=ge.value?"":`${k.value} ${(se=s.value)==null?void 0:se.symbol}`;_o(n("tips.increaseLiquiditySuccess",{from:!o&&!((oe=I==null?void 0:I.value)!=null&&oe.needReverse)||o&&((qe=I==null?void 0:I.value)!=null&&qe.needReverse)?t:u,and:!fe.value&&!ge.value?"and":"",to:!o&&!((ue=I==null?void 0:I.value)!=null&&ue.needReverse)||o&&((Qe=I==null?void 0:I.value)!=null&&Qe.needReverse)?u:t})),Ge(!0);let f="",w="",y="",S="",U="",L="",H=0,K=0,Z=!1,le;if(o||(Ue=I==null?void 0:I.value)!=null&&Ue.needReverse){const No=o&&!((de=I==null?void 0:I.value)!=null&&de.needReverse);f=No?(no=(we=I==null?void 0:I.value)==null?void 0:we.token_b)==null?void 0:no.address:(Ne=(Oe=I==null?void 0:I.value)==null?void 0:Oe.token_a)==null?void 0:Ne.address,w=No?(vo=(co=I==null?void 0:I.value)==null?void 0:co.token_a)==null?void 0:vo.address:(je=(Ve=I==null?void 0:I.value)==null?void 0:Ve.token_b)==null?void 0:je.address,y=No?(Bn=(On=I==null?void 0:I.value)==null?void 0:On.token_b)==null?void 0:Bn.decimals:(Un=(Rn=I==null?void 0:I.value)==null?void 0:Rn.token_a)==null?void 0:Un.decimals,S=No?(Wn=(_n=I==null?void 0:I.value)==null?void 0:_n.token_a)==null?void 0:Wn.decimals:(jn=(Fn=I==null?void 0:I.value)==null?void 0:Fn.token_b)==null?void 0:jn.decimals,(Dn=I==null?void 0:I.value)!=null&&Dn.needReverse?(U=A.value?T.value:k.value,L=A.value?k.value:T.value,H=A.value?Number(i.value):1/Number(p.value),K=A.value?Number(p.value):1/Number(i.value),Z=A.value?b.value:!b.value,le=A.value?Fe.value:1/Number(Fe.value)):(U=A.value?k.value:T.value,L=A.value?T.value:k.value,H=A.value?1/Number(p.value):Number(i.value),K=A.value?1/Number(i.value):Number(p.value),Z=A.value?!b.value:b.value,le=A.value?1/Number(Fe.value):Fe.value)}else f=(Hn=(En=I==null?void 0:I.value)==null?void 0:En.token_a)==null?void 0:Hn.address,w=(Xn=(zn=I==null?void 0:I.value)==null?void 0:zn.token_b)==null?void 0:Xn.address,y=(Kn=(Vn=I==null?void 0:I.value)==null?void 0:Vn.token_a)==null?void 0:Kn.decimals,S=(Gn=(Zn=I==null?void 0:I.value)==null?void 0:Zn.token_b)==null?void 0:Gn.decimals,U=A.value?T.value:k.value,L=A.value?k.value:T.value,H=A.value?Number(i.value):1/Number(p.value),K=A.value?Number(p.value):1/Number(i.value),Z=A.value?b.value:!b.value,le=A.value?Fe.value:1/Number(Fe.value);try{console.log("0501###toCreatePool###params###",{coinTypeA:f,coinTypeB:w,decimalsA:y,decimalsB:S,amountA:U,amountB:L,minPrice:H,maxPrice:K,fix_amount_a:Z,tick_spacing:Number(I.value.tickSpacing),slippage:Number(Re.value)/100,price:le});const No=await $.value.getCreatPoolTransactionPayload({coinTypeA:f,coinTypeB:w,decimalsA:y,decimalsB:S,amountA:U,amountB:L,minPrice:i.value=="0"&&p.value=="∞"?"0":H,maxPrice:i.value=="0"&&p.value=="∞"?"∞":K,fix_amount_a:Z,tick_spacing:Number(I.value.tickSpacing),slippage:Number(Re.value)/100,price:le}),St=await $.value.signAndExecuteTransactionBlock(B.value.currentWallet,No),Jo=$.value.handleTx(St);if(Jo&&Jo.hash){bo(Jo.hash),Ge(!1),fo(!0);const Pn={title:"Created pool",desc:"Pool created successfully ",hash:Jo.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(Jn=l.value)==null?void 0:Jn.address}`,numa:fe.value?"":`- ${T.value}`,logoa:q.value.tokensObj&&l.value&&l.value.address&&q.value.tokensObj[l.value.address]&&q.value.tokensObj[l.value.address].logoURI,tokenb:`${(Qn=s.value)==null?void 0:Qn.address}`,numb:ge.value?"":`- ${k.value}`,logob:q.value.tokensObj&&s.value&&s.value.address&&q.value.tokensObj[s.value.address]&&q.value.tokensObj[s.value.address].logoURI},text:"Pool created successfully"};M.value.chainName!=="Aptos"&&(Pn.res=Jo.res),$.value.showTransitionPending(Pn),(await $.value.watchTransaction(Pn,!0)).status&&(fo(!1),te.value=!0,setTimeout(()=>{Je.setPoolConfigList(M.value.chainName,M.value.filterCoinsObj),$.value.getAccount(B.value.address)},1e3)),Wo()}else Ge(!1),go(!0);T.value="",k.value=""}catch(No){console.log("0407###createPool###error##",No),lo.value=!1,Je.setPoolConfigList(M.value.chainName,M.value.filterCoinsObj),T.value="",k.value="",Ge(!1),go(!0)}},It=z(()=>{var o,t,u,f,w,y;return((o=l.value)==null?void 0:o.isSelfBuilt)||((t=s.value)==null?void 0:t.isSelfBuilt)||((f=q.value.tokensObj[(u=l.value)==null?void 0:u.address])==null?void 0:f.isSelfBuilt)||((y=q.value.tokensObj[(w=s.value)==null?void 0:w.address])==null?void 0:y.isSelfBuilt)}),Tt=o=>{var t;return(o==null?void 0:o.logoURI)||(o==null?void 0:o.logo_url)||((t=q.value.tokensObj[o==null?void 0:o.address])==null?void 0:t.logo_url)||(M.value.theme==="default"?Ke("/image/coins/unknown.png"):Ke("/image/coins/sui-unknown.png"))},yn=(o,t)=>{const u=localStorage.getItem(o==null?void 0:o.address),f=M.value.importTokenListObj;console.log("🚀 ~ getTokenSource ~ importTokenListObj:",f),q.value.tokensObj&&q.value.tokensObj[o.address]&&q.value.tokensObj[o.address].isSelfBuilt&&!u&&!(f!=null&&f.hasOwnProperty(o==null?void 0:o.address))&&(t=="fromCoin"&&(Vo.value=o),t=="toCoin"&&(Ko.value=o),Mn.value=!0)};Ce(()=>[l.value,s.value],([o,t])=>{o&&!Co(o)&&yn(o,"fromCoin"),t&&!Co(t)&&yn(t,"toCoin")},{immediate:!0});const Mn=g(!1),$t=()=>{mn.value!=="Aptos"?ke.push("/pool/list"):ke.push("/pools")},mn=z(()=>M.value.chainName);Ce(()=>[M.value.chainName,M.value.filterCoinsObj],([o,t])=>{o&&t&&Je.setPoolConfigList(o,t)},{immediate:!0}),Ce(()=>[De.value,io.value,l.value,s.value,So.value],([o,t,u,f,w])=>{w&&o&&t&&!o.includes(1e-4)&&!o.includes(5e-4)&&!o.includes(.0025)&&!o.includes(.01)&&!t[u==null?void 0:u.address]&&!t[f==null?void 0:f.address]&&(j.value="")},{immediate:!0});const Fo=g(!0),wn=()=>{eo(!Fo.value),Fo.value=!Fo.value,pn(I.value.currentPrice)};return{isFullRange:Fo,clickFullRange:wn,warningToCoin:Ko,warningFromCoin:Vo,getTokenSource:yn,closeTokenWarning:$t,isShowTokenWarning:Mn,chainName:mn,hasCreatePool:So,isCreateSuccess:te,intPriceReverse:vn,isShowMask:Io,isPc:e,intPrice:cn,createPoolToCoin:$e,createPoolFromCoin:Te,getPoolInfoSuccess:Ho,toCreatePool:Pt,createPoolInfo:I,changecurrentPrice:pn,isShowCreatePoolModal:yt,addOrCreate:wt,halfBtnSelect:sn,selectFee:Ct,isViewDetail:D,addCommom:Ye,decimalUi:Be,fromCoinUrl:kt,toCoinUrl:ht,t:n,wallet:B,toAdd:ft,chartLoading:V,currentTick:ae,tickList:We,poolInfo:N,storeIndex:M,importIcon:Ke,addLiquidityBtnText:R,slippage:Re,countdown:Q,loading:Y,fromCoin:l,toCoin:s,openCoinSelect:an,onCoinSelect:ln,existingCoins:F,lastSelectCoin:ie,currentCoinKey:ee,showCoinSelect:Pe,fromCoinAmount:T,toCoinAmount:k,maxBtnSelect:rn,fixedFromCoin:b,isShowLiquidityModal:lo,direct:A,toggle:tn,edit:ye,inputValue:j,feeTierList:Ze,minPrice:i,maxPrice:p,invalidPriceRange:Xo,defaultMinPrice:O,defaultMaxPrice:X,priceRangeChangeMin:on,priceRangeChangeMax:nn,toFullRange:eo,clearAll:un,clickClear:W,positionError:ce,positionTips:Ae,router:ke,clickRefresh:$o,fromCoinBlance:ze,toCoinBlance:Xe,showToCoinLock:ge,showFromCoinLock:fe,currentPriceReverse:ro,currentPrice:Fe,getPirceText:gt,currentPriceTab:G,currentPriceTabList:To,getPirceKey:bt,priceTab:dn,aprRewardsParameter:Ie,aprRewardsDateList:re,aprTab:qo,reviseValue:Lo,label:He,aprTitle:Le,isCreatePool:De,before7dContractPriceLowest:oo,before7dContractPriceHighest:Me,aprRewardsTime:me,addLiquidityBtnDisabled:jo,checkNullObj:Co,sFixD:Qo,toCreateSuiPool:Ln,isSelfBuilt:It,getCoinIcon:Tt,isCreatePoolToCoin:Ro,isCreatePoolFromCoin:Uo,filterCreatePoolCoin:io,poolTvl:mo}}});const ao=e=>(xo("data-v-f9326f4a"),e=e(),en(),e),Vi={class:"pools-container"},Ki={key:0,class:"content pc-content"},Zi={class:"content-left"},Gi={class:"content-left-bg"},Ji={class:"content-left-title"},Qi={key:0,class:"pool-warning"},Yi={class:"coin-select"},xi={key:0,class:"icon","aria-hidden":"true"},el=ao(()=>a("use",{"xlink:href":"#icon-edit"},null,-1)),ol=[el],nl={key:0,class:"fee-container"},tl=["onClick"],al={key:0,class:"icon fee-disabled","aria-hidden":"true"},il=ao(()=>a("use",{"xlink:href":"#icon-icon-disable"},null,-1)),ll=[il],rl={key:1},sl={key:2},ul={key:0},dl={key:1,class:"text-active"},cl={class:"deposit-title"},vl={class:"card-container"},pl={class:"card-item"},ml={class:"card-item"},fl={key:0,class:"icon","aria-hidden":"true"},gl=ao(()=>a("use",{"xlink:href":"#icon-icon-add"},null,-1)),bl=[gl],kl={class:"pc-network"},hl={class:"content-right"},Cl={key:0,class:"initPrice-mask"},yl={class:"content-right-title"},wl=ao(()=>a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon-information"})],-1)),Pl={class:"content-right-bg"},Il={key:1,class:"price-tab"},Tl=["onClick"],$l={key:2,class:"create-pool-tips"},Sl={key:3,class:"set-price-range"},Nl={class:"radio"},Al={key:0,src:vt},ql=ao(()=>a("span",null,"Full Range",-1)),Ll={key:0},Ml={key:1,class:"coin"},Rl={key:2,class:"coin"},Ul={key:3,class:"no-price"},Ol={alt:""},Bl={alt:""},Fl={key:6,class:"position-tips"},jl={alt:""},_l={class:"tips"},Wl={key:7,class:"position-tips"},Dl={alt:""},El={class:"error"},Hl={key:8,class:"d3-chart-box"},zl={key:9,class:"day-7-price-range"},Xl=ao(()=>a("i",null,null,-1)),Vl={class:"gray"},Kl={key:11,class:"create-pool-tips"},Zl={key:12,class:"create-pool-warning"},Gl={key:1,class:"no-data"},Jl={key:0,src:pt,alt:""},Ql={key:1,src:mt,alt:""},Yl={key:1,class:"content h5-content"},xl={class:"content-left"},er={class:"content-left-bg"},or={class:"content-left-title"},nr={key:0,class:"pool-warning"},tr={class:"coin-select"},ar={key:0,class:"icon","aria-hidden":"true"},ir=ao(()=>a("use",{"xlink:href":"#icon-edit"},null,-1)),lr=[ir],rr={key:0,class:"fee-container"},sr=["onClick"],ur={key:0},dr={key:1},cr={key:0},vr={key:1,class:"text-active"},pr={class:"content-right"},mr={key:0,class:"initPrice-mask"},fr={class:"content-right-title"},gr=ao(()=>a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon-information"})],-1)),br={class:"content-right-bg"},kr={key:1,class:"price-tab"},hr=["onClick"],Cr={key:2,class:"create-pool-tips"},yr={key:3,class:"set-price-range"},wr={class:"radio"},Pr={key:0,src:vt},Ir=ao(()=>a("span",null,"Full Range",-1)),Tr={key:0},$r={key:1,class:"coin"},Sr={key:2,class:"coin"},Nr={key:3,class:"no-price"},Ar={alt:""},qr={alt:""},Lr={key:6,class:"position-tips"},Mr=["src"],Rr={class:"tips"},Ur={key:7,class:"position-tips"},Or=["src"],Br={class:"error"},Fr={key:8,class:"d3-chart-box"},jr={key:9,class:"day-7-price-range"},_r=ao(()=>a("i",null,null,-1)),Wr={class:"gray"},Dr={key:11,class:"create-pool-tips"},Er={key:1,class:"no-data"},Hr={key:0,src:pt,alt:""},zr={key:1,src:mt,alt:""},Xr={key:0,class:"icon","aria-hidden":"true"},Vr=ao(()=>a("use",{"xlink:href":"#icon-icon-add"},null,-1)),Kr=[Vr],Zr={class:"pc-network"},Gr={class:"new-right"},Jr={class:"deposit-title"},Qr={class:"card-container"},Yr={class:"card-item"},xr={class:"card-item"},es={key:0,class:"icon","aria-hidden":"true"},os=ao(()=>a("use",{"xlink:href":"#icon-icon-add"},null,-1)),ns=[os],ts={class:"h5-network"};function as(e,n,_,E,B,J){var ae,V,ne,We,G,Ie,me,Le,re,He,x,M,Io,$,io,qo,Lo,To,$o,Xo,eo,De,po,mo,Ze,Re,Mo,jo,R,P,oo,Me,ke,l,s,on,nn,tn,Ro,Uo,an,Te,$e,Vo,Ko,ln,rn,sn,un,lo,fo,go,Ge,_o,bo,Wo,d,Je,So,q,ko,fe,ge,Do,Eo,Fe,ro,so,Oo,Zo,N;const Q=Nt,te=va,D=Bt,Y=wa,ee=Ft,F=jt,ie=Na,Pe=Dt,A=dt,xe=Ht,b=Ra,W=Qa,T=ii,k=ct,i=Zt,p=zi,O=Yt,X=xt,ye=na,Ae=ta,ce=Et,j=An("image");return r(),m("div",Vi,[pe(Q,{url:e.storeIndex.theme=="default"?"/pools":"/pool/list"},null,8,["url"]),pe(te,{"pool-info":e.poolInfo,onClearAll:e.clearAll,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClearAll","onClickRefresh"]),e.isPc?(r(),m("div",Ki,[a("div",Zi,[a("div",Gi,[a("div",Ji,[_e(c(e.$t("common.selectPool"))+" ",1),pe(D,{placement:"bottom","arrow-point-at-center":""},{title:Ee(()=>[a("span",null,c(e.t("newAdd.poolWarning")),1)]),default:Ee(()=>[e.isSelfBuilt?(r(),m("div",Qi)):C("",!0)]),_:1})]),a("div",Yi,[pe(Y,{"coin-icon":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b.logoURI:e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b.symbol:e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b:e.poolInfo.token_a:e.createPoolFromCoin,onClick:n[0]||(n[0]=v=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),pe(Y,{"coin-icon":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a.logoURI:e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a.symbol:e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a:e.poolInfo.token_b:e.createPoolToCoin,onClick:n[1]||(n[1]=v=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),a("div",{class:be(["pool-fee",e.edit?"pool-fee-edit":""])},[a("div",{class:"pool-fee-header",onClick:n[2]||(n[2]=v=>e.hasCreatePool?e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit:"")},[a("span",{class:be(e.inputValue?"":"fee-span")},c(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),e.hasCreatePool?(r(),m("svg",xi,ol)):C("",!0)]),e.edit?(r(),m("div",nl,[(r(!0),m(Ao,null,Yo(e.feeTierList,(v,to)=>{var Bo,Ho,ze,Xe,Go;return r(),m("div",{key:to,class:be(["fee-item",[e.inputValue&&e.inputValue==v.label?"fee-item-active":"",e.isCreatePool.includes(v.fee)&&e.$route.query.action?" pool-created":" pool-not-created",e.chainName!=="Aptos"&&!e.isCreatePool.includes(v.fee)&&!e.filterCreatePoolCoin[(Bo=e.fromCoin)==null?void 0:Bo.address]&&!e.filterCreatePoolCoin[(Ho=e.toCoin)==null?void 0:Ho.address]?"disabled":""]]),onClick:$n(Cn=>e.selectFee(v),["stop"])},[e.chainName!=="Aptos"&&!e.isCreatePool.includes(v.fee)&&!e.filterCreatePoolCoin[(ze=e.fromCoin)==null?void 0:ze.address]&&!e.filterCreatePoolCoin[(Xe=e.toCoin)==null?void 0:Xe.address]?(r(),m("svg",al,ll)):C("",!0),e.$route.query.action=="create-pool"?(r(),m("div",rl,[a("p",null,c(v.title),1),a("p",{class:be(e.isCreatePool&&e.isCreatePool.includes(v.fee)?"text-default":"text-theme")},c(e.isCreatePool&&e.isCreatePool.includes(v.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(r(),m("div",sl,[a("p",{class:be(e.isCreatePool&&e.isCreatePool.includes(v.fee)?"text-active":"text-default")},c(v.title),3),e.isCreatePool&&!e.isCreatePool.includes(v.fee)?(r(),m("p",ul,c(e.$t("newAdd.notCreated")),1)):C("",!0),e.isCreatePool&&e.isCreatePool.includes(v.fee)?(r(),m("p",dl,c(e.poolTvl&&e.poolTvl[v.fee]&&((Go=e.poolTvl[v.fee])==null?void 0:Go.rateText)),1)):C("",!0)])),a("span",null,c(v.text),1)],10,tl)}),128))])):C("",!0)],2),a("div",cl,c(e.$t("newAdd.depositAmounts")),1),a("div",vl,[a("div",pl,[pe(ee,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":n[3]||(n[3]=v=>e.fromCoinAmount=v),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:n[4]||(n[4]=v=>e.maxBtnSelect("fromCoin")),onOnHalf:n[5]||(n[5]=v=>e.halfBtnSelect("fromCoin")),onOnInput:n[6]||(n[6]=v=>{e.fromCoinAmount=v,e.fixedFromCoin=!0}),onOnSelect:n[7]||(n[7]=v=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock&&e.$route.query.action!=="create-pool"?(r(),ve(F,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):C("",!0)]),a("div",ml,[pe(ee,{modelValue:e.toCoinAmount,"onUpdate:modelValue":n[8]||(n[8]=v=>e.toCoinAmount=v),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:n[9]||(n[9]=v=>e.maxBtnSelect("toCoin")),onOnHalf:n[10]||(n[10]=v=>e.halfBtnSelect("toCoin")),onOnInput:n[11]||(n[11]=v=>{e.toCoinAmount=v,e.fixedFromCoin=!1}),onOnSelect:n[12]||(n[12]=v=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock&&e.$route.query.action!=="create-pool"?(r(),ve(F,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):C("",!0)]),((V=(ae=e.$route)==null?void 0:ae.query)==null?void 0:V.action)=="create-pool"&&(e.showToCoinLock||e.showFromCoinLock||!e.filterCreatePoolCoin[(ne=e.fromCoin)==null?void 0:ne.address]&&!e.filterCreatePoolCoin[(We=e.toCoin)==null?void 0:We.address])?(r(),ve(ie,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showFromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):C("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(r(),m("img",{key:1,class:"add",src:tt,alt:"",onClick:n[13]||(n[13]=(...v)=>e.toggle&&e.toggle(...v))})):C("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(r(),m("img",{key:2,class:"add",src:at,alt:"",onClick:n[14]||(n[14]=(...v)=>e.toggle&&e.toggle(...v))})):C("",!0)]),e.poolInfo?(r(),ve(Pe,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):C("",!0)]),pe(A,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:n[15]||(n[15]=v=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:Ee(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")&&e.wallet.connected?(r(),m("svg",fl,bl)):C("",!0),a("span",null,c(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),a("div",kl,[pe(xe)])]),a("div",hl,[e.isShowMask?(r(),m("div",Cl)):C("",!0),a("div",yl,[_e(c((G=e.$route)!=null&&G.query.action?e.$t("newAdd.setInitialPrice"):e.$t("newAdd.selectRange"))+" ",1),e.poolInfo?(r(),ve(D,{key:0,placement:"bottom","arrow-point-at-center":""},{title:Ee(()=>[a("span",null,c(e.$t("newAdd.selectRangeTips")),1)]),default:Ee(()=>[wl]),_:1})):C("",!0)]),a("div",Pl,[!((me=(Ie=e.$route)==null?void 0:Ie.query)!=null&&me.action)&&e.poolInfo||(re=(Le=e.$route)==null?void 0:Le.query)!=null&&re.action?(r(),m(Ao,{key:0},[(x=(He=e.$route)==null?void 0:He.query)!=null&&x.action&&!e.poolInfo?(r(),ve(b,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):C("",!0),e.poolInfo?(r(),m("div",Il,[(r(!0),m(Ao,null,Yo(e.currentPriceTabList,v=>(r(),m("div",{key:v,class:be(["price-item",{"price-item-active":v.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:to=>e.priceTab(v)},[pe(D,{placement:"bottom","arrow-point-at-center":""},{title:Ee(()=>[a("span",null,c(e.getPirceText(v.key)),1)]),default:Ee(()=>[_e(" "+c(e.getPirceKey(v.key)),1)]),_:2},1024)],10,Tl))),128))])):C("",!0),(Io=(M=e.$route)==null?void 0:M.query)!=null&&Io.action&&!e.poolInfo?(r(),m("div",$l,c(e.$t("newAdd.createPoolInitialText")),1)):C("",!0),!e.poolInfo&&((io=($=e.$route)==null?void 0:$.query)!=null&&io.action)?(r(),m("div",Sl,[a("div",null,c(e.$t("common.setPriceRange")),1),a("div",null,[a("div",{class:be(["tab-item",e.isFullRange?"tab-item-active tab-item-farms-active":""]),onClick:n[16]||(n[16]=$n(v=>e.clickFullRange(),["stop"]))},[a("div",Nl,[e.isFullRange&&e.chainName=="Sui"?(r(),m("img",Al)):C("",!0)]),ql],2)])])):C("",!0),e.poolInfo||(Lo=(qo=e.$route)==null?void 0:qo.query)!=null&&Lo.action?(r(),m("div",{key:4,class:be(["current-price",($o=(To=e.$route)==null?void 0:To.query)!=null&&$o.action&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(r(),m("span",Ll,c(e.$t("common.currentPrice")),1)):C("",!0),e.fromCoin&&e.toCoin&&e.direct?(r(),m("div",Ml,[a("span",null,c(e.$t("common.currentPrice")),1),_e(" "+c(e.currentPrice===""?"--":("addCommom"in e?e.addCommom:Se(Ye))(("decimalUi"in e?e.decimalUi:Se(Be))(e.currentPrice,6)))+" "+c((Xo=e.toCoin)==null?void 0:Xo.symbol)+" per "+c((eo=e.fromCoin)==null?void 0:eo.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(r(),m("div",Rl,[a("span",null,c(e.$t("common.currentPrice")),1),_e(" "+c(e.currentPriceReverse===""?"--":("addCommom"in e?e.addCommom:Se(Ye))(("decimalUi"in e?e.decimalUi:Se(Be))(e.currentPriceReverse,6)))+" "+c((De=e.toCoin)==null?void 0:De.symbol)+" per "+c((po=e.fromCoin)==null?void 0:po.symbol),1)])):(r(),m("div",Ul,"0.0")),e.fromCoin&&e.toCoin?(r(),m("div",{key:4,class:be(e.poolInfo&&((mo=e.poolInfo)!=null&&mo.needReverse)||e.createPoolInfo&&((Ze=e.createPoolInfo)!=null&&Ze.needReverse)?"toggle reverse":"toggle")},[a("div",{class:be(e.direct?"item active-item":"item"),onClick:n[17]||(n[17]=v=>e.direct?"":e.toggle())},[uo(a("img",Ol,null,512),[[j,e.getCoinIcon(e.direct?e.fromCoin:e.toCoin)]]),_e(" "+c(e.direct?(Re=e.fromCoin)==null?void 0:Re.symbol:(Mo=e.toCoin)==null?void 0:Mo.symbol),1)],2),a("div",{class:be(e.direct?"item ":"item active-item"),onClick:n[18]||(n[18]=v=>e.direct?e.toggle():"")},[uo(a("img",Bl,null,512),[[j,e.getCoinIcon(e.direct?e.toCoin:e.fromCoin)]]),_e(" "+c(e.direct?(jo=e.toCoin)==null?void 0:jo.symbol:(R=e.fromCoin)==null?void 0:R.symbol),1)],2)],2)):C("",!0)],2)):C("",!0),e.poolInfo||(oo=(P=e.$route)==null?void 0:P.query)!=null&&oo.action?(r(),ve(W,{key:5,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,"int-price":e.intPrice,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","int-price","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):C("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(r(),m("div",Fl,[uo(a("img",jl,null,512),[[j,("importIcon"in e?e.importIcon:Se(Ke))("/image/icon-tips@2x.png")]]),a("p",_l,c(e.$t("tips.positionTips")),1)])):C("",!0),e.positionError&&(e.poolInfo||(ke=(Me=e.$route)==null?void 0:Me.query)!=null&&ke.action)&&(Number(e.minPrice)||Number(e.maxPrice))?(r(),m("div",Wl,[uo(a("img",Dl,null,512),[[j,("importIcon"in e?e.importIcon:Se(Ke))("/image/icon-tips-error@2x.png")]]),a("p",El,c(e.$t("tips.positionError")),1)])):C("",!0),e.fromCoin&&e.toCoin&&e.poolInfo&&((l=e.poolInfo)!=null&&l.current_sqrt_price)?(r(),m("div",Hl,[e.fromCoin&&e.toCoin&&e.poolInfo?(r(),ve(T,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):C("",!0),e.chartLoading?(r(),ve(k,{key:1})):C("",!0)])):C("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(r(),m("div",zl,[Xl,a("span",Vl,c(e.aprRewardsTime)+" Price Range",1),a("span",null,c(("addCommom"in e?e.addCommom:Se(Ye))(("decimalUi"in e?e.decimalUi:Se(Be))(e.before7dContractPriceLowest,6)))+" - "+c(("addCommom"in e?e.addCommom:Se(Ye))(("decimalUi"in e?e.decimalUi:Se(Be))(e.before7dContractPriceHighest,6))),1)])):C("",!0),e.poolInfo&&!e.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.isSelfBuilt&&e.maxPrice=="∞"?(r(),ve(i,{key:10,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):C("",!0),(on=(s=e.$route)==null?void 0:s.query)!=null&&on.action&&!e.poolInfo&&!e.showFromCoinLock&&!e.showToCoinLock?(r(),m("div",Kl,c(e.$t("newAdd.createPoolText")),1)):C("",!0),((tn=(nn=e.$route)==null?void 0:nn.query)==null?void 0:tn.action)=="create-pool"&&(e.showFromCoinLock||e.showToCoinLock)&&Number(e.maxPrice)>Number(e.minPrice)?(r(),m("div",Zl," To create a new pool, the initial price you set must be within your price range. ")):C("",!0)],64)):(r(),m("div",Gl,[e.storeIndex.theme=="default"?(r(),m("img",Jl)):(r(),m("img",Ql)),a("p",null,c(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&e.$route.query.action!=="create-pool"?(r(),ve(p,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):C("",!0)])])):C("",!0),e.isPc?C("",!0):(r(),m("div",Yl,[a("div",xl,[a("div",er,[a("div",or,[_e(c(e.$t("common.selectPool"))+" ",1),pe(D,{placement:"bottom","arrow-point-at-center":""},{title:Ee(()=>[a("span",null,c(e.t("newAdd.poolWarning")),1)]),default:Ee(()=>[e.poolInfo&&e.isSelfBuilt?(r(),m("div",nr)):C("",!0)]),_:1})]),a("div",tr,[pe(Y,{"coin-icon":e.poolInfo?e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.token_a:e.createPoolFromCoin,onClick:n[19]||(n[19]=v=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),pe(Y,{"coin-icon":e.poolInfo?e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.token_b:e.createPoolToCoin,onClick:n[20]||(n[20]=v=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),a("div",{class:be(["pool-fee",e.edit?"pool-fee-edit":""])},[a("div",{class:"pool-fee-header",onClick:n[21]||(n[21]=v=>e.hasCreatePool?e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit:"")},[a("span",{class:be(e.inputValue?"":"fee-span")},c(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),e.hasCreatePool?(r(),m("svg",ar,lr)):C("",!0)]),e.edit?(r(),m("div",rr,[e.getPoolInfoSuccess?(r(!0),m(Ao,{key:1},Yo(e.feeTierList,(v,to)=>{var Bo;return r(),m("div",{key:to,class:be(["fee-item",[e.inputValue&&e.inputValue==v.label?"fee-item-active":"",e.isCreatePool&&e.isCreatePool.length>0&&e.isCreatePool.includes(v.fee)&&e.$route.query.action?" pool-created":" pool-not-created"]]),onClick:Ho=>e.selectFee(v)},[e.$route.query.action=="create-pool"?(r(),m("div",ur,[a("p",null,c(v.title),1),a("p",{class:be(e.isCreatePool.includes(v.fee)?"text-default":"text-theme")},c(e.isCreatePool.includes(v.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(r(),m("div",dr,[a("p",{class:be(e.isCreatePool.includes(v.fee)?"text-active":"text-default")},c(v.title),3),e.isCreatePool&&!e.isCreatePool.includes(v.fee)?(r(),m("p",cr,c(e.$t("newAdd.notCreated")),1)):C("",!0),e.isCreatePool&&e.isCreatePool.includes(v.fee)?(r(),m("p",vr,c(e.poolTvl&&e.poolTvl[v.fee]&&((Bo=e.poolTvl[v.fee])==null?void 0:Bo.rateText)),1)):C("",!0)])),a("span",null,c(v.text),1)],10,sr)}),128)):(r(),ve(k,{key:0}))])):C("",!0)],2)]),a("div",pr,[e.isShowMask?(r(),m("div",mr)):C("",!0),a("div",fr,[_e(c((Ro=e.$route)!=null&&Ro.query.action?e.$t("newAdd.setInitialPrice"):e.$t("newAdd.selectRange"))+" ",1),e.poolInfo?(r(),ve(D,{key:0,placement:"bottom","arrow-point-at-center":""},{title:Ee(()=>[a("span",null,c(e.$t("newAdd.selectRangeTips")),1)]),default:Ee(()=>[gr]),_:1})):C("",!0)]),a("div",br,[!((an=(Uo=e.$route)==null?void 0:Uo.query)!=null&&an.action)&&e.poolInfo||($e=(Te=e.$route)==null?void 0:Te.query)!=null&&$e.action?(r(),m(Ao,{key:0},[(Ko=(Vo=e.$route)==null?void 0:Vo.query)!=null&&Ko.action&&!e.poolInfo?(r(),ve(b,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):C("",!0),e.poolInfo?(r(),m("div",kr,[(r(!0),m(Ao,null,Yo(e.currentPriceTabList,v=>(r(),m("div",{key:v,class:be(["price-item",{"price-item-active":v.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:to=>e.priceTab(v)},[pe(D,{placement:"bottom","arrow-point-at-center":""},{title:Ee(()=>[a("span",null,c(e.getPirceText(v.key)),1)]),default:Ee(()=>[_e(" "+c(e.getPirceKey(v.key)),1)]),_:2},1024)],10,hr))),128))])):C("",!0),(rn=(ln=e.$route)==null?void 0:ln.query)!=null&&rn.action&&!e.poolInfo?(r(),m("div",Cr,c(e.$t("newAdd.createPoolInitialText")),1)):C("",!0),!e.poolInfo&&((un=(sn=e.$route)==null?void 0:sn.query)!=null&&un.action)?(r(),m("div",yr,[a("div",null,c(e.$t("common.setPriceRange")),1),a("div",null,[a("div",{class:be(["tab-item",e.isFullRange?"tab-item-active tab-item-farms-active":""]),onClick:n[22]||(n[22]=$n(v=>e.clickFullRange(),["stop"]))},[a("div",wr,[e.isFullRange&&e.chainName=="Sui"?(r(),m("img",Pr)):C("",!0)]),Ir],2)])])):C("",!0),e.poolInfo||(fo=(lo=e.$route)==null?void 0:lo.query)!=null&&fo.action?(r(),m("div",{key:4,class:be(["current-price",(Ge=(go=e.$route)==null?void 0:go.query)!=null&&Ge.action&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(r(),m("span",Tr,c(e.$t("common.currentPrice")),1)):C("",!0),e.fromCoin&&e.toCoin&&e.direct?(r(),m("div",$r,[a("span",null,c(e.$t("common.currentPrice")),1),_e(" "+c(("addCommom"in e?e.addCommom:Se(Ye))(("decimalUi"in e?e.decimalUi:Se(Be))(e.currentPrice,6)))+" "+c((_o=e.toCoin)==null?void 0:_o.symbol)+" per "+c((bo=e.fromCoin)==null?void 0:bo.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(r(),m("div",Sr,[a("span",null,c(e.$t("common.currentPrice")),1),_e(" "+c(("addCommom"in e?e.addCommom:Se(Ye))(("decimalUi"in e?e.decimalUi:Se(Be))(e.currentPriceReverse,6)))+" "+c((Wo=e.toCoin)==null?void 0:Wo.symbol)+" per "+c((d=e.fromCoin)==null?void 0:d.symbol),1)])):(r(),m("div",Nr,"0.0")),e.fromCoin&&e.toCoin?(r(),m("div",{key:4,class:be(e.poolInfo&&((Je=e.poolInfo)!=null&&Je.needReverse)||e.createPoolInfo&&((So=e.createPoolInfo)!=null&&So.needReverse)?"toggle reverse":"toggle")},[a("div",{class:be(e.direct?"item active-item":"item"),onClick:n[23]||(n[23]=v=>e.direct?"":e.toggle())},[uo(a("img",Ar,null,512),[[j,e.getCoinIcon(e.direct?e.fromCoin:e.toCoin)]]),_e(" "+c(e.direct?(q=e.fromCoin)==null?void 0:q.symbol:(ko=e.toCoin)==null?void 0:ko.symbol),1)],2),a("div",{class:be(e.direct?"item ":"item active-item"),onClick:n[24]||(n[24]=v=>e.direct?e.toggle():"")},[uo(a("img",qr,null,512),[[j,e.getCoinIcon(e.direct?e.toCoin:e.fromCoin)]]),_e(" "+c(e.direct?(fe=e.toCoin)==null?void 0:fe.symbol:(ge=e.fromCoin)==null?void 0:ge.symbol),1)],2)],2)):C("",!0)],2)):C("",!0),e.poolInfo||(Eo=(Do=e.$route)==null?void 0:Do.query)!=null&&Eo.action?(r(),ve(W,{key:5,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):C("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(r(),m("div",Lr,[a("img",{src:("importIcon"in e?e.importIcon:Se(Ke))("/image/icon-tips@2x.png"),alt:""},null,8,Mr),a("p",Rr,c(e.$t("tips.positionTips")),1)])):C("",!0),e.positionError&&(e.poolInfo||(ro=(Fe=e.$route)==null?void 0:Fe.query)!=null&&ro.action)?(r(),m("div",Ur,[a("img",{src:("importIcon"in e?e.importIcon:Se(Ke))("/image/icon-tips-error@2x.png"),alt:""},null,8,Or),a("p",Br,c(e.$t("tips.positionError")),1)])):C("",!0),e.fromCoin&&e.toCoin&&e.poolInfo?(r(),m("div",Fr,[e.fromCoin&&e.toCoin&&e.poolInfo?(r(),ve(T,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):C("",!0),e.chartLoading?(r(),ve(k,{key:1})):C("",!0)])):C("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(r(),m("div",jr,[_r,a("span",Wr,c(e.aprRewardsTime)+" Price Range",1),a("span",null,c(("addCommom"in e?e.addCommom:Se(Ye))(("decimalUi"in e?e.decimalUi:Se(Be))(e.before7dContractPriceLowest,6)))+" - "+c(("addCommom"in e?e.addCommom:Se(Ye))(("decimalUi"in e?e.decimalUi:Se(Be))(e.before7dContractPriceHighest,6))),1)])):C("",!0),e.poolInfo&&!e.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.isSelfBuilt&&e.maxPrice=="∞"?(r(),ve(i,{key:10,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):C("",!0),(Oo=(so=e.$route)==null?void 0:so.query)!=null&&Oo.action&&!e.poolInfo?(r(),m("div",Dr,c(e.$t("newAdd.createPoolText")),1)):C("",!0)],64)):(r(),m("div",Er,[e.storeIndex.theme=="default"?(r(),m("img",Hr)):(r(),m("img",zr)),a("p",null,c(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&!e.isSelfBuilt?(r(),ve(p,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):C("",!0)]),pe(A,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:n[25]||(n[25]=v=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:Ee(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")?(r(),m("svg",Xr,Kr)):C("",!0),a("span",null,c(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),a("div",Zr,[pe(xe)])]),a("div",Gr,[a("div",Jr,c(e.$t("newAdd.depositAmounts")),1),a("div",Qr,[a("div",Yr,[pe(ee,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":n[26]||(n[26]=v=>e.fromCoinAmount=v),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:n[27]||(n[27]=v=>e.maxBtnSelect("fromCoin")),onOnHalf:n[28]||(n[28]=v=>e.halfBtnSelect("fromCoin")),onOnInput:n[29]||(n[29]=v=>{e.fromCoinAmount=v,e.fixedFromCoin=!0}),onOnSelect:n[30]||(n[30]=v=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(r(),ve(F,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):C("",!0)]),a("div",xr,[pe(ee,{modelValue:e.toCoinAmount,"onUpdate:modelValue":n[31]||(n[31]=v=>e.toCoinAmount=v),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:n[32]||(n[32]=v=>e.maxBtnSelect("toCoin")),onOnHalf:n[33]||(n[33]=v=>e.halfBtnSelect("toCoin")),onOnInput:n[34]||(n[34]=v=>{e.toCoinAmount=v,e.fixedFromCoin=!1}),onOnSelect:n[35]||(n[35]=v=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(r(),ve(F,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):C("",!0)]),(N=(Zo=e.$route)==null?void 0:Zo.query)!=null&&N.action&&!e.poolInfo&&(!e.createPoolInfo||!e.createPoolInfo.currentPrice)?(r(),ve(ie,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showFromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):C("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(r(),m("img",{key:1,class:"add",src:tt,alt:"",onClick:n[36]||(n[36]=(...v)=>e.toggle&&e.toggle(...v))})):C("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(r(),m("img",{key:2,class:"add",src:at,alt:"",onClick:n[37]||(n[37]=(...v)=>e.toggle&&e.toggle(...v))})):C("",!0)]),e.poolInfo||e.createPoolInfo?(r(),ve(Pe,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):C("",!0)])])),pe(A,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn h5-btn",onClick:n[38]||(n[38]=v=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:Ee(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")?(r(),m("svg",es,ns)):C("",!0),a("span",null,c(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),a("div",ts,[pe(xe)]),e.showCoinSelect?(r(),ve(O,{key:2,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,"is-create-pool-to-coin":e.isCreatePoolToCoin,"is-create-pool-from-coin":e.isCreatePoolFromCoin,onOnSelect:e.onCoinSelect,onOnClose:n[39]||(n[39]=v=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","is-create-pool-to-coin","is-create-pool-from-coin","onOnSelect"])):C("",!0),e.isViewDetail?(r(),ve(X,{key:3,"pool-info":e.poolInfo,onOnClose:n[40]||(n[40]=v=>e.isViewDetail=!1)},null,8,["pool-info"])):C("",!0),e.isCreateSuccess?(r(),ve(ye,{key:4,onOnClose:n[41]||(n[41]=v=>e.isCreateSuccess=!1)})):C("",!0),e.chainName=="Sui"&&e.isShowTokenWarning?(r(),ve(Ae,{key:5,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,onClose:e.closeTokenWarning,onClickContinue:n[42]||(n[42]=v=>e.isShowTokenWarning=!1)},null,8,["from-coin","to-coin","onClose"])):C("",!0),e.isShowLiquidityModal?(r(),ve(ce,{key:6,"pool-info":e.poolInfo||e.createPoolInfo,title:e.$route.query.action=="create-pool"?e.$t("newAdd.preview"):e.$t("button.addLiquidity"),"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"current-price-tab":e.currentPriceTab,"min-price":e.minPrice,"max-price":e.maxPrice,"show-from-coin-lock":e.showFromCoinLock,"show-to-coin-lock":e.showToCoinLock,"current-direct":e.direct,"is-increase":!1,onCreatePool:e.toCreatePool,onToAdd:e.toAdd,onOnClose:n[43]||(n[43]=v=>e.isShowLiquidityModal=!1)},null,8,["pool-info","title","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","current-price","current-price-reverse","current-price-tab","min-price","max-price","show-from-coin-lock","show-to-coin-lock","current-direct","onCreatePool","onToAdd"])):C("",!0)])}const Js=Po(Xi,[["render",as],["__scopeId","data-v-f9326f4a"]]);export{Js as default};
