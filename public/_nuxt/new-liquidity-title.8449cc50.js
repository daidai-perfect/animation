import{b as H,c as re,l as te,a as be,u as ne,h as Y,i as le,d as oe,m as ke,w as ee}from"./pool.72e6880c.js";import{a as G,m as _,e as J,o as f,f as y,r as h,K as x,D as A,h as i,v as S,i as F,w as V,z as E,N as se,x as U,P as ue,y as ce,B as de,j as z,l as _e,J as ye,L as he,q as Pe,c as W,t as Se,u as X,S as $e,M as Ce,p as me,k as fe,G as ae,U as Te,C as Ie,b as we}from"./entry.a800e351.js";import{_ as Ne}from"./img-lock_2x.a28135f4.js";import"./index.b6cdaf66.js";/* empty css              */import{D as T}from"./decimal.0bdeb344.js";import{i as Z}from"./import-icon.de3e6c66.js";import{_ as pe}from"./token-warning.34ad6e94.js";/* empty css              *//* empty css              */import{_ as Me}from"./swap-setting.c1f96208.js";const Ae=G({setup(){const e=H();return{storeIndex:_(()=>e)}}}),Oe=""+new URL("lock.aebbc2c5.png",import.meta.url).href;const je={class:"create-pool-lock"},Be={key:0,src:Ne,alt:""},Re={key:1,src:Oe,alt:""};function qe(e,t,l,p,g,s){return f(),y("div",je,[e.storeIndex.theme=="default"?(f(),y("img",Be)):(f(),y("img",Re))])}const Gt=J(Ae,[["render",qe],["__scopeId","data-v-fb497971"]]),Le=G({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,t){const l=h(""),p=h("");let g=h(""),s=h("");const o=x(),b=H(),d=_(()=>b),I=_(()=>d.value.chainName?re(d.value.chainName):{}),w=()=>{var n,u,k,M;if(!(Number.isNaN(l.value)||Number(l.value)!==0&&!l.value||!e.poolInfo.tickSpacing))try{const{TickUtil:j,TickMath:O,getNearestTickByTick:c}=I.value,v=O.priceToTickIndex(new T(l.value.toString()),(n=m.value.token_a)==null?void 0:n.decimals,(u=m.value.token_b)==null?void 0:u.decimals),P=c(v,Number(m.value.tickSpacing),!0);let C;if(C=O.tickIndexToPrice(P+Number(m.value.tickSpacing),(k=m.value.token_a)==null?void 0:k.decimals,(M=m.value.token_b)==null?void 0:M.decimals),e.pType=="Min"&&Number(C.toString())>Number(s.value.toString()))return;const R=C.toString();t.emit("onInput",R)}catch{t.emit("onInput","")}},B=()=>{var n,u,k,M;try{if(Number.isNaN(l.value)||!l.value||!e.poolInfo.tickSpacing)return;const{TickUtil:j,TickMath:O,getNearestTickByTick:c}=I.value,v=O.priceToTickIndex(new T(l.value.toString()),(n=m.value.token_a)==null?void 0:n.decimals,(u=m.value.token_b)==null?void 0:u.decimals),P=c(v,Number(m.value.tickSpacing),!0);let C;C=O.tickIndexToPrice(P-Number(m.value.tickSpacing),(k=m.value.token_a)==null?void 0:k.decimals,(M=m.value.token_b)==null?void 0:M.decimals);const R=C.toString();if(e.pType=="Max"&&Number(C)<Number(g.value))return;t.emit("onInput",R)}catch{t.emit("onInput","")}},$=n=>{let u=n.toString().replace(/[^\d.]/g,"");const k=/^\d+(\.\d+)?$/;u.split(".").length>2&&!k.exec(u)&&(u=u.substr(0,u.length-1)),p.value=String(u)},a=n=>{if(n&&n!=="0"&&n!=="∞"){l.value=n;const k=n.toString().split(".")[1];p.value=n!=="0"&&n!=="∞"&&k&&k.length>6?te(n.toString(),6):n.toString()}else(n=="0"||n=="∞"||o.query.action)&&(p.value=n)},N=n=>{var c,v,P,C;const{TickUtil:u,TickMath:k,getNearestTickByTick:M}=I.value,j=n.target.value;let O;if(j==="0"){O=-443636,t.emit("onInput","0");return}else if(j!=="0"&&j){const R=k.priceToTickIndex(new T(j),(c=m.value.token_a)==null?void 0:c.decimals,(v=m.value.token_b)==null?void 0:v.decimals);O=M(Number(R),Number(m.value.tickSpacing),!0);const K=k.tickIndexToPrice(new T(O),(P=m.value.token_a)==null?void 0:P.decimals,(C=m.value.token_b)==null?void 0:C.decimals);a(K.toString()),t.emit("onInput",K.toString())}else t.emit("onInput")};A(()=>e.defaultMinPrice,(n,u)=>{n!==u&&(g.value=e.defaultMinPrice)},{immediate:!0}),A(()=>e.defaultMaxPrice,(n,u)=>{n!==u&&(s.value=e.defaultMaxPrice)},{immediate:!0}),A(()=>[e.inputValue,o.query.action],([n])=>{a(n)},{immediate:!0});const m=h({});A(()=>e.poolInfo,(n,u)=>{n&&(m.value=n)},{immediate:!0});const r=h("");return A(()=>e.currentPriceTab,n=>{r.value=n},{immediate:!0}),{addPrice:w,minusPrice:B,oValue:p,changeValue:$,isDisabled:r,route:o,onBlur:N}}});const De={class:"set-price-item"},Ue={class:"title"},Fe={class:"input-box"},Ve={key:0,class:"minus-btn"},Ee={key:1,class:"plus-btn"};function We(e,t,l,p,g,s){const o=ue,b=se;return f(),y("div",De,[i("div",Ue,S(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),F(b,{loading:e.loading,active:"",paragraph:!1},{default:V(()=>[i("div",Fe,[e.currentPriceTab!=="full range"?(f(),y("a",Ve,[i("div",{class:E(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),onClick:t[0]||(t[0]=(...d)=>e.minusPrice&&e.minusPrice(...d))},"-",2)])):U("",!0),F(o,{id:"pValu",value:e.oValue,"onUpdate:value":t[1]||(t[1]=d=>e.oValue=d),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:t[2]||(t[2]=d=>e.changeValue(d.target.value)),onBlur:t[3]||(t[3]=d=>e.onBlur(d))},null,8,["value","disabled"]),e.currentPriceTab!=="full range"?(f(),y("a",Ee,[i("div",{class:E(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:t[4]||(t[4]=(...d)=>e.addPrice&&e.addPrice(...d))},"+",2)])):U("",!0)])]),_:1},8,["loading"]),i("p",{class:E(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},S(e.toCoin&&e.toCoin.symbol)+" per "+S(e.fromCoin&&e.fromCoin.symbol),3)])}const ve=J(Le,[["render",We],["__scopeId","data-v-c24339c0"]]),ze=G({components:{NewLiquiditySetPrice:ve},props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,t){let l=h(""),p=h(""),g=h(),s=h(!1),o=h(!1);const b=h({}),d=H(),I=_(()=>d);ce(()=>{l.value=e.min,p.value=e.max}),A(()=>e.currentPriceTab,(r,n)=>{r!==n&&(g.value=e.currentPriceTab)},{immediate:!0}),A(()=>e.min,(r,n)=>{r!==n&&(l.value=r)}),A(()=>e.max,(r,n)=>{r!==n&&(p.value=r)}),A(()=>e.poolInfo,(r,n)=>{r&&(b.value=r)},{immediate:!0});const w=h("");A(()=>e.intPrice,r=>{w.value=r},{immediate:!0,deep:!0});const B=r=>{l.value=r,t.emit("onChangeMinPrice",r)},$=r=>{p.value=r,t.emit("onChangeMaxPrice",r)};A(s,(r,n)=>{r!==n&&t.emit("onChangeFullRange",r)});const a=()=>{l.value=e.defaultMinPrice,p.value=e.defaultMaxPrice,o.value=!1,s.value=!1},N=()=>{o.value=!1,l.value="0",p.value="∞"};return A(s,(r,n)=>{r!==n&&t.emit("onChangeFullRange",r)}),{store:I,changeMinPrice:B,changeMaxPrice:$,importIcon:Z,resetPrice:a,changeShowUnderStand:()=>{s.value=!s.value,s.value?o.value=!0:a(),o.value||(l.value=e.defaultMinPrice,p.value=e.defaultMaxPrice)},showUnderStand:o,minPrice:l,maxPrice:p,understand:N,isRadio:s,initPirce:w}}});const He={class:"set-price"},Ge={class:"card-container"},Je={key:0,class:"card"},Ke={key:1,class:"understand"},Qe={class:"left"},Xe={class:"right"};function Ye(e,t,l,p,g,s){const o=ve,b=de;return f(),y("div",He,[i("div",Ge,[e.showUnderStand?(f(),y("div",Ke,[i("div",Qe,[i("p",null,S(e.$t("common.lowerEfficiency")),1),i("p",null,S(e.$t("common.lowerEfficiencyTips")),1)]),i("div",Xe,[F(b,{onClick:e.understand},{default:V(()=>[z(S(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(f(),y("div",Je,[F(o,{value:e.minPrice,"onUpdate:value":t[0]||(t[0]=d=>e.minPrice=d),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),F(o,{value:e.maxPrice,"onUpdate:value":t[1]||(t[1]=d=>e.maxPrice=d),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"])]))])])}const Jt=J(ze,[["render",Ye],["__scopeId","data-v-cd90a1d8"]]),Ze=G({components:{TokenWarning:pe},props:{inputValue:{type:String,default:""},inputDisabled:{type:Boolean,default:!1},coinName:{type:String,default:""},coinSymbol:{type:String,default:""},balance:{type:Number,default:null},coinIcon:{type:String,default:""},havemax:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!0},isTotal:{type:Boolean,default:!1},importPage:{type:String,default:""},address:{type:String,default:""}},setup(e,t){const{t:l,locale:p}=_e(),g=H(),s=_(()=>g),o=_(()=>new T(Number(e.balance)).div(2)),b=ye(he,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0});function d(){this.$emit("onSelect")}const I=c=>{const v=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(u==null?void 0:u.value)&&(u==null?void 0:u.value)}})?).*$`);c.target.value=c.target.value.replace(v,"$1")},w=be(),B=_(()=>w),$=ne(),a=_(()=>$),N=_(()=>a.value.tokensWarningObj);let m={};A(()=>a.value.RATES,c=>{c&&(m=c)},{immediate:!0});const r=_(()=>ke(Number(e.inputValue)*Number(m&&m[e.address]&&m[e.address].price),2)),n=_(()=>{var c,v;return a.value.tokensObj&&e.address&&a.value.tokensObj[e.address]&&((c=a.value.tokensObj[e.address])==null?void 0:c.labels)&&((v=a.value.tokensObj[e.address])==null?void 0:v.labels[0])}),u=_(()=>{var c;return a.value.tokensObj&&e.address&&a.value.tokensObj[e.address]&&((c=a.value.tokensObj[e.address])==null?void 0:c.decimals)}),k=_(()=>{var c,v,P,C;return e.coinIcon||((v=(c=a==null?void 0:a.value)==null?void 0:c.tokensObj[e.address])==null?void 0:v.logo_url)||((C=(P=a==null?void 0:a.value)==null?void 0:P.tokensObj[e.address])==null?void 0:C.logoURI)||(s.value.theme==="default"?Z("/image/coins/unknown.png"):Z("/image/coins/sui-unknown.png"))}),M=_(()=>a.value.tokensObj),j=_(()=>s.value.theme);return{route:x(),theme:j,currentIcon:k,tokensObj:M,pool:a,halfBalance:o,coinLabels:n,t:l,addCommom:Y,store:s,wallet:B,indicator:b,inputChange:I,importIcon:Z,selectCoin:d,amountPirce:r,coinDecimals:u,formatNumber:le,tokensWarningObj:N,checkNullObj:oe}}});const xe=e=>(me("data-v-7c71d39e"),e=e(),fe(),e),et={class:"card"},tt={class:"top"},nt={key:1,class:"input-div"},ot={key:0},it={class:"loading-token"},at={key:1},rt={key:0},lt=xe(()=>i("use",{"xlink:href":"#icon-icon_on"},null,-1)),st=[lt],ut={class:"bottom"},ct={key:0,class:"amount-price"},dt={key:1},mt={class:"top"},ft={class:"right"},pt={class:"balance"};function vt(e,t,l,p,g,s){const o=ue,b=$e,d=Ce,I=pe,w=se,B=de,$=Pe("image");return f(),y("div",et,[i("div",tt,[e.inputDisabled?(f(),y("div",nt,[e.inputValue?(f(),y("span",ot,S(e.inputValue),1)):(f(),W(b,{key:1,indicator:e.indicator},null,8,["indicator"]))])):(f(),W(o,{key:0,value:e.inputValue=="InsufficientLiquidity"?"":e.inputValue,placeholder:"0.0",disabled:e.inputDisabled,onChange:e.inputChange,onInput:t[0]||(t[0]=a=>e.$emit("onInput",a.target.value)),onFocus:t[1]||(t[1]=a=>e.$emit("onFocus"))},null,8,["value","disabled","onChange"])),i("div",{class:E(["left",[e.hasArrow?"":"nohands",e.route.name=="swap"?"left-opcity":""].join("")]),onClick:t[2]||(t[2]=a=>e.pool.isTokenLoading?"":e.selectCoin())},[i("div",it,[e.pool.isTokenLoading?(f(),W(d,{key:0,active:e.active,size:"small",paragraph:!1},null,8,["active"])):e.address?Se((f(),y("img",at,null,512)),[[$,e.currentIcon]]):U("",!0),F(I,{address:e.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"]),F(w,{loading:e.pool.isTokenLoading,class:"loading-token-skeleton",active:"",paragraph:!1},{default:V(()=>[i("div",null,[i("p",null,S(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinLabels?(f(),y("p",rt,S(e.coinLabels),1)):U("",!0)])]),_:1},8,["loading"])]),e.hasArrow?(f(),y("svg",{key:0,class:E(["icon",e.pool.isTokenLoading?"loading-drop-icon":""]),"aria-hidden":"true"},st,2)):U("",!0)],2)]),i("div",ut,[e.inputValue&&e.amountPirce!="--"?(f(),y("div",ct," $"+S(("formatNumber"in e?e.formatNumber:X(le))(e.amountPirce)),1)):(f(),y("div",dt)),i("div",mt,[i("div",ft,[z(S(e.isTotal?e.$t("common.total"):e.$t("common.balance"))+" ",1),i("span",pt,S(e.wallet.connected?("addCommom"in e?e.addCommom:X(Y))(e.balance,e.coinDecimals):"0"),1),e.havemax&&e.wallet.connected?(f(),W(B,{key:0,disabled:!e.coinName||("addCommom"in e?e.addCommom:X(Y))(e.halfBalance,e.coinDecimals)==0,class:"max-btn",onClick:t[3]||(t[3]=a=>e.$emit("onHalf"))},{default:V(()=>[z(S("Half"))]),_:1},8,["disabled"])):U("",!0),e.havemax&&e.wallet.connected?(f(),W(B,{key:1,disabled:!e.coinName||("addCommom"in e?e.addCommom:X(Y))(e.balance,e.coinDecimals)==0,class:"max-btn",onClick:t[4]||(t[4]=a=>e.$emit("onMax"))},{default:V(()=>[z(S(e.$t("button.max")),1)]),_:1},8,["disabled"])):U("",!0)])])])])}const Kt=J(Ze,[["render",vt],["__scopeId","data-v-7c71d39e"]]),gt=G({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fixedFromCoin:{type:Boolean,defalut:!0},isInputTotalAmount:{type:Boolean,default:!1},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},createPoolInfo:{type:Object,default:()=>({})},currentPrice:{type:Number,default:0},currentPriceReverse:{type:Number,default:0},currentPriceTab:{type:String,default:""}},setup(e){const t=ne(),l=_(()=>t),p=H(),g=_(()=>p),s=x(),o=_(()=>{let $=null;if(s.name=="liquidity-create")$=e.createPoolInfo;else for(const a in l.value.poolsObj){const N=l.value.poolsObj[a];N.address==s.query.poolAddress&&($=N)}return $}),b=_(()=>g.value.chainName?re(g.value.chainName):{}),d=_(()=>g.value.slippage),I=h(),w=h(),B=async()=>{var K;if(!e.minPrice&&!e.maxPrice)return;const{TickUtil:$,TickMath:a,getNearestTickByTick:N}=b.value,m=o.value.token_a.decimals,r=o.value.token_b.decimals;let n,u,k,M,j,O,c,v=1,P=1;const C=o.value.current_tick_index;let R=l.value.poolPriceConfigObj&&l.value.poolPriceConfigObj[o.value.address]&&l.value.poolPriceConfigObj[o.value.address].recommend_ranges||{};if(o.value.token_a.address.toLowerCase()===e.fromCoin.address.toLowerCase()&&o.value.token_b.address.toLowerCase()===e.toCoin.address.toLowerCase()?c=!0:c=!1,e.minPrice==="0"&&e.maxPrice==="∞")k=$.getMinIndex(o.value.tickSpacing),M=$.getMaxIndex(o.value.tickSpacing);else if(e.currentPriceTab=="custom"){c?(n=e.minPrice,u=e.maxPrice):(n=e.maxPrice!=="∞"?new T(1).div(e.maxPrice).toString():1/0,u=new T(1).div(e.minPrice).toString());try{j=a.priceToTickIndex(new T(n),m,r)}catch{j=-443636}try{O=a.priceToTickIndex(new T(u),m,r)}catch{O=443636}n==0&&(j=-443636),k=N(j,Number(o.value.tickSpacing),!0),M=N(O,Number(o.value.tickSpacing),!0)}else k=R&&R[e.currentPriceTab]&&R[e.currentPriceTab].lower,M=R&&R[e.currentPriceTab]&&R[e.currentPriceTab].upper;if(e.maxPrice==="∞"||C>=k&&C<=M){let q;if(e.fixedFromCoin){const Q=new T(Number(e.fromCoinAmount)==0?1:e.fromCoinAmount).mul(Math.pow(10,e.fromCoin.decimals)).toString();q=new ee(Q)}else{const Q=new T(Number(e.toCoinAmount)==0?1:e.toCoinAmount).mul(Math.pow(10,e.toCoin.decimals)).toString();q=new ee(Q)}if(console.log("🚀🚀🚀 ~ file: new-liquidity-deposit-ratio.vue:262 ~ getRatio ~ poolInfo.value.current_sqrt_price:",o.value.current_sqrt_price),((K=o==null?void 0:o.value)==null?void 0:K.current_sqrt_price)<=0)return!1;const{tokenMaxA:L,tokenMaxB:D}=await b.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:o.value.token_a,tokenB:o.value.token_b,lowerTick:k,upperTick:M,coinAmount:q,iscoinA:c?e.fixedFromCoin:!e.fixedFromCoin,roundUp:!0,slippage:Number(d.value)/100,curSqrtPrice:new ee(o.value.current_sqrt_price)});c?e.fixedFromCoin?(P=Number(D)>0?D:"",v=Number(L)>0?L:""):(v=Number(L)>0?L:"",P=Number(D)>0?D:""):(e.fixedFromCoin,P=L,v=D)}else C>M?c?(P=1,v=0):(v=1,P=0):C<k&&(c?(P=0,v=1):(P=1,v=0));if(e.minPrice=="0"&&e.maxPrice=="∞")I.value=50,w.value=50;else{const q=v?Number(v):0,L=P?Number(P):0,D=new T(L).add(new T(c?new T(q*e.currentPrice):new T(q*e.currentPriceReverse))),Q=te(new T(q).mul(new T(c?e.currentPrice:e.currentPriceReverse)).div(D).mul(100).toNumber().toFixed(2),2),ge=te(new T(L).div(D).mul(100).toNumber().toFixed(2),2);I.value=Q,w.value=ge}};return A(()=>[o.value,e.minPrice,e.maxPrice,e.fromCoinAmount,e.toCoinAmount,e.isInputTotalAmount],([$,a,N,m,r])=>{a&&N&&$&&!oe($)&&(a!=="0"||N!=="0")?B():(I.value="",w.value="")},{immediate:!0,deep:!0}),{fromCoinRatio:I,toCoinRatio:w}}});const bt={class:"deposit-ratio"},kt={class:"deposit-ratio-text"},_t=i("span",null,"Deposit Ratio",-1),yt=i("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[i("use",{"xlink:href":"#icon-icon-tips1"})],-1),ht={class:"deposit-ratio-content"},Pt={class:"coin-ratio"},St={class:"coin-a-ratio"},$t={class:"coin-b-ratio"},Ct={class:"ratio-progress"};function Tt(e,t,l,p,g,s){var b,d;const o=Te;return f(),y("div",bt,[i("div",kt,[_t,F(o,{placement:"bottom","arrow-point-at-center":""},{title:V(()=>[i("span",null,S(e.$t("newAdd.depositRatioTips")),1)]),default:V(()=>[yt]),_:1})]),i("div",ht,[i("div",Pt,[i("div",St,[i("span",null,S((b=e.fromCoin)==null?void 0:b.symbol),1),z(" "+S(e.fromCoinRatio)+"% ",1)]),i("div",$t,[i("span",null,S((d=e.toCoin)==null?void 0:d.symbol),1),z(" "+S(e.toCoinRatio)+"% ",1)])]),i("div",Ct,[i("div",{class:"from-percent",style:ae({width:e.fromCoinRatio+"%"})},null,4),i("div",{class:"to-percent",style:ae({width:e.toCoinRatio+"%"})},null,4)])])])}const Qt=J(gt,[["render",Tt]]),It=G({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,t){const l=h(!1),p=h(null),g=h(0);let s=h(!1);const o=h(20),b=ne(),d=H(),I=h(!1);ce(()=>{}),Ie(()=>{clearInterval(p.value)});const w=()=>{s.value=!1,p.value=setInterval(()=>{var r;I.value||g.value<o.value&&(g.value+=1,g.value===o.value&&(s.value=!0,(r=e==null?void 0:e.poolInfo)!=null&&r.poolAddress&&b.updateCurrentPools(e.poolInfo.poolAddress,d.chainName),g.value=0,setTimeout(()=>{s.value=!1},1e3)))},1e3)},B=_(()=>d.slippage),$=()=>{t.emit("clearAll")},a=()=>{s.value||(s.value=!0,g.value=0,t.emit("clickRefresh"),setTimeout(()=>{s.value=!1,w()},1e3))};A(()=>e.poolInfo,r=>{r&&!p.value&&w()},{immediate:!0});const N=we(),m=x();return{refresh:s,clickRefresh:a,isShowSwapSetting:l,countdown:g,autoRefreshTime:o,slippage:B,clearAll:$,checkNullObj:oe,router:N,route:m}}});const ie=e=>(me("data-v-906fb979"),e=e(),fe(),e),wt={class:"title"},Nt=ie(()=>i("div",{class:"left"},[i("span",null,"Deposit Amounts")],-1)),Mt=ie(()=>i("svg",{class:"icon","aria-hidden":"true"},[i("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),At={key:0,class:"deposit-progress"},Ot=ie(()=>i("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),jt=[Ot];function Bt(e,t,l,p,g,s){const o=Me;return f(),y("div",wt,[Nt,i("div",{class:E(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[i("div",{class:"slippage-icon",onClick:t[0]||(t[0]=b=>e.isShowSwapSetting=!0)},[Mt,i("span",null,S(e.slippage)+"%",1)]),e.route.name!=="liquidity-create"?(f(),y("div",At,[(f(),y("svg",{"aria-hidden":"true",class:E(e.refresh?"refresh-icon refresh":"refresh-icon"),onClick:t[1]||(t[1]=(...b)=>e.clickRefresh&&e.clickRefresh(...b))},jt,2))])):U("",!0)],2),e.isShowSwapSetting?(f(),W(o,{key:0,onOnClose:t[2]||(t[2]=b=>e.isShowSwapSetting=!1)})):U("",!0)])}const Xt=J(It,[["render",Bt],["__scopeId","data-v-906fb979"]]);export{Xt as _,Qt as a,Gt as b,Kt as c,Jt as d};
