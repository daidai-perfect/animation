import{u as J,h as Z,d as P,c as F,a as D}from"./sha256.de7acfa8.js";import{a as G,r as n,l as H,q as U,H as K,X,K as Q,R as Y,a9 as ee,e as te,o as f,f as y,h as l,u as g,c as ae,v as $,x as O,A as z,i as oe,M as se,S as ne,p as le,k as ie}from"./entry.ad32dc49.js";/* empty css              */import"./index.31084607.js";import"./index.fb6eb370.js";import{l as re}from"./lodash.1ae2ad4e.js";const ue=G({props:{mode:{type:String,required:!1,default:"vol"},address:{type:String,required:!1,default:""},poolInfo:{type:Object,required:!1,default:()=>({})}},setup(e){const d=J(),k=n(!1),a=H(()=>d),T=t=>{switch(t){case"vol":return"Volume (24H)";case"tvl":return"TVL";case"fee":return"Fees (24H)"}},C=H(()=>Z[a.value.chainName]),S=n(0),I=n(0),N=n(0),W=n(0),V=n(""),E=n("--"),M=re.debounce(()=>{B(_.value)},300);U(()=>e.mode,(t,m)=>{t!==m&&(k.value=!0,B(_.value))}),U(()=>e.address,(t,m)=>{t!==m&&(k.value=!0,B(_.value))});const j=n(null);K(()=>{window.addEventListener("resize",M),setTimeout(()=>{document.body.clientWidth<750?c(40,100,4,e.mode,"day"):c(40,100,8,e.mode,"day")},100),j.value=window.setInterval(()=>{B(_.value)},12e4)}),X(()=>{window.clearInterval(j.value)}),Q(()=>{window.removeEventListener("resize",M)}),Y(()=>{if(!F(a.value.statsData||{})&&a.value.chainName){const t=a.value.chainName=="Sui"?a.value.statsData.vol_in_usd_24h:a.value.statsData.vol_in_usd_24h_sum_v1;a.value.chainName=="Sui"?a.value.statsData.tvl_in_usd:a.value.statsData.tvl_in_usd_sum_v1,S.value=t,V.value=t,I.value=a.value.statsData.vol_in_usd,N.value=a.value.statsData.pure_tvl_in_usd,W.value=a.value.statsData.tx_num}});const _=n("D"),i=n({}),R=t=>{_.value=t,B(t)},B=t=>{t=="D"?document.body.clientWidth<750?c(40,100,4,e.mode,"day"):c(40,100,8,e.mode,"day"):t=="W"?document.body.clientWidth<750?c(20,100,6,e.mode,"wek"):c(30,100,12,e.mode,"wek"):t=="M"&&(document.body.clientWidth<750?c(20,100,12,e.mode,"mon"):c(20,100,18,e.mode,"mon"))},c=async(t,m,L,w,h)=>{const p=w=="tvl"?"pure_tvl":w,{data:o}=e.address!==""?a.value.theme=="default"?await fetch(`${C.value.api}/v2/histogram?date_type=${h}&typ=${w}&limit=${t}&swap_account=${e.address}`).then(s=>s.json()):await fetch(`${C.value.api}/v2/sui/histogram?date_type=${h}&typ=${p}&limit=${t}&address=${e.address}`).then(s=>s.json()):a.value.theme=="default"?await fetch(`${C.value.api}/v2/histogram?date_type=${h}&typ=${w}&limit=${t}`).then(s=>s.json()):await fetch(`${C.value.api}/v2/sui/histogram?date_type=${h}&typ=${p}&limit=${t}`).then(s=>s.json());let v=o.list;const r={categoryData:[],valueData:[],wheelBase:[]};v&&v.forEach(s=>{r.categoryData.push(s.date.slice(0,10)),r.valueData.push(s.num)}),k.value=!1,i.value=r,x(t,m,L)},A=n({day:"",month:"",year:"",current:""}),q=t=>t==1?"Jan":t==2?"Feb":t==3?"Mar":t==4?"Apr":t==5?"May":t==6?"Jun":t==7?"Jul":t==8?"Aug":t==9?"Sep":t==10?"Oct":t==11?"Nov":"Dec",x=(t,m,L)=>{const w=document.getElementById("echartsBox"),h=ee(w);let p=e.address==""||e.mode!=="tvl"?{tooltip:{trigger:"axis",position:function(o,v,r,s,u){return[o[0]-50,"10%"]},backgroundColor:"#28353F",borderColor:"transparent",extraCssText:"height:24px;",formatter:function(o){let v=o[0].axisValue.slice(5,7),r=q(v);const s=o[0].axisValue.slice(8,10),u=r,b=o[0].axisValue.slice(0,4);return A.value={day:s,month:u,year:b,current:""},V.value=o[0].value,E.value=o[0].value,a.value.theme=="default","&nbsp;&nbsp;&nbsp;"+s+"&nbsp;"+u+"&nbsp;"+b+"&nbsp;&nbsp;&nbsp;"},textStyle:{color:"#909DB4",innerHeight:"24",lineHeight:"24"},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:a.value.theme=="default"?"#14B88E":"#76C8FF"}}},xAxis:{show:!1,max:i.value.categoryData.length>Number(t)?Number(t):i.value.categoryData.length-1,type:"category",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},splitArea:{show:!1},data:i.value.categoryData},yAxis:{show:!1,max:function(o){return o.max},splitArea:{show:!1}},dataZoom:[{type:"inside",start:0,end:m,zoomLock:!0}],series:[{data:i.value.valueData,type:"bar",itemStyle:{normal:{barBorderRadius:1,color:o=>a.value.theme=="default"?"#00A57B":"#0B70B9"}},barWidth:L}],grid:{left:5,top:0,bottom:0,right:20}}:{tooltip:{trigger:"axis",position:function(o,v,r,s,u){return[o[0]-50,"10%"]},backgroundColor:"#28353F",borderColor:"transparent",extraCssText:"height:24px;",formatter:function(o){let v=o[0].axisValue.slice(5,7),r=q(v);const s=o[0].axisValue.slice(8,10),u=r,b=o[0].axisValue.slice(0,4);return A.value={day:s,month:u,year:b,current:""},V.value=o[0].value,E.value=o[0].value,a.value.theme=="default","&nbsp;&nbsp;&nbsp;"+s+"&nbsp;"+u+"&nbsp;"+b+"&nbsp;&nbsp;&nbsp;"},textStyle:{color:"#909DB4",innerHeight:"24",lineHeight:"24"},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:a.value.theme=="default"?"#14B88E":"#76C8FF"}}},xAxis:{show:!1,boundaryGap:!1,max:i.value.categoryData.length>Number(t)?Number(t):i.value.categoryData.length-1,type:"category",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},splitArea:{show:!1},data:i.value.categoryData},yAxis:{type:"value",show:!1,max:function(o){return o.max},splitArea:{show:!1}},dataZoom:[{type:"inside",start:0,end:m,zoomLock:!0}],series:[{data:i.value.valueData,type:"line",areaStyle:{normal:{color:"#0B70B9"}},lineStyle:{normal:{color:"#76C8FF"}},itemStyle:{normal:{barBorderRadius:1,color:o=>a.value.theme=="default"?"#00A57B":"#0B70B9"}},barWidth:L}],grid:{left:5,top:20,bottom:5,right:20}};document.body.clientWidth<750&&(p.grid={left:4,top:10,bottom:20,right:4}),a.value.theme=="default"&&(p.tooltip.backgroundColor="#293F38"),p&&h.setOption(p),p&&h.resize(),h.on("globalout",o=>{A.value={day:"",month:"",year:"",current:""},V.value=a.value.statsData.vol_in_usd_24h_sum_v1,E.value="--"})};return{currentVal:E,loading:k,getModeLabel:T,decimalUi:P,checkNullObj:F,store:a,addCommom:D,vol_in_usd_24h:S,vol_in_usd:I,tvl_in_usd:N,tx_num:W,changeEchart:R,echartVal:_,volTime:A,TradingVolume:V}}});const de=e=>(le("data-v-2f260c8b"),e=e(),ie(),e),ce={class:"upgrade-chart-container"},me={class:"echarts-content-box"},he={class:"echarts-content"},pe={class:"echarts-content-top"},ve={class:"left"},fe={key:1},be={key:2},ye={key:3},ge={key:4},_e={key:5},we={class:"echarts-tab"},$e={key:0,class:"echarts-content-bottom echarts-content-bottom-loading"},De=de(()=>l("div",{id:"echartsBox",class:"echarts-content-bottom"},null,-1));function ke(e,d,k,a,T,C){const S=se,I=ne;return f(),y("div",ce,[l("div",me,[l("div",he,[l("div",pe,[l("div",ve,[("checkNullObj"in e?e.checkNullObj:g(F))(e.store.statsData||{})?(f(),ae(S,{key:0,class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})):e.address==""?(f(),y("p",fe,"$"+$(Number(e.TradingVolume)==0?0:("addCommom"in e?e.addCommom:g(D))(("decimalUi"in e?e.decimalUi:g(P))(e.TradingVolume,2))),1)):e.currentVal!=="--"?(f(),y("p",be,"$"+$(Number(e.currentVal)!==0&&Number(e.currentVal)<.01?"<0.01":("addCommom"in e?e.addCommom:g(D))(e.currentVal,2)),1)):e.mode=="vol"?(f(),y("p",ye,"$"+$(Number(e.poolInfo.vol)!==0&&Number(e.poolInfo.vol)<.01?"<0.01":("addCommom"in e?e.addCommom:g(D))(e.poolInfo.vol,2)),1)):e.mode=="tvl"?(f(),y("p",ge,"$"+$(Number(e.poolInfo.liqidity)!==0&&Number(e.poolInfo.liqidity)<.01?"<0.01":("addCommom"in e?e.addCommom:g(D))(e.poolInfo.liqidity,2)),1)):e.mode=="fee"?(f(),y("p",_e,$(Number(e.poolInfo.fee_24_h)!==0&&Number(e.poolInfo.fee_24_h)<.01?"<$0.01":`$${("addCommom"in e?e.addCommom:g(D))(e.poolInfo.fee_24_h,2)}`),1)):O("",!0),l("span",null,$(e.address!==""?e.getModeLabel(e.mode):e.$t("common.tradingVal24h")),1)]),l("div",we,[l("div",{class:z(["title-day",e.echartVal=="D"?"title-active":""]),onClick:d[0]||(d[0]=N=>e.changeEchart("D"))}," D ",2),l("div",{class:z(["title-week",e.echartVal=="W"?"title-active":""]),onClick:d[1]||(d[1]=N=>e.changeEchart("W"))}," W ",2),l("div",{class:z(["title-mouth",e.echartVal=="M"?"title-active":""]),onClick:d[2]||(d[2]=N=>e.changeEchart("M"))}," M ",2)])]),e.loading?(f(),y("div",$e,[oe(I)])):O("",!0),De])])])}const Ee=te(ue,[["render",ke],["__scopeId","data-v-2f260c8b"]]),Ae=""+globalThis.__publicAssetsURL("image/img-no-Positions@2x.png");export{Ae as _,Ee as a};
